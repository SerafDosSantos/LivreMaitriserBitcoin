<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="generator" content="Asciidoctor 2.0.17">
<title>La cha√Æne de blocs (La blockchain)</title>
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:300,300italic,400,400italic,600,600italic%7CNoto+Serif:400,400italic,700,700italic%7CDroid+Sans+Mono:400,700">
<style>
/*! Asciidoctor default stylesheet | MIT License | https://asciidoctor.org */
/* Uncomment the following line when using as a custom stylesheet */
/* @import "https://fonts.googleapis.com/css?family=Open+Sans:300,300italic,400,400italic,600,600italic%7CNoto+Serif:400,400italic,700,700italic%7CDroid+Sans+Mono:400,700"; */
html{font-family:sans-serif;-webkit-text-size-adjust:100%}
a{background:none}
a:focus{outline:thin dotted}
a:active,a:hover{outline:0}
h1{font-size:2em;margin:.67em 0}
b,strong{font-weight:bold}
abbr{font-size:.9em}
abbr[title]{cursor:help;border-bottom:1px dotted #dddddf;text-decoration:none}
dfn{font-style:italic}
hr{height:0}
mark{background:#ff0;color:#000}
code,kbd,pre,samp{font-family:monospace;font-size:1em}
pre{white-space:pre-wrap}
q{quotes:"\201C" "\201D" "\2018" "\2019"}
small{font-size:80%}
sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}
sup{top:-.5em}
sub{bottom:-.25em}
img{border:0}
svg:not(:root){overflow:hidden}
figure{margin:0}
audio,video{display:inline-block}
audio:not([controls]){display:none;height:0}
fieldset{border:1px solid silver;margin:0 2px;padding:.35em .625em .75em}
legend{border:0;padding:0}
button,input,select,textarea{font-family:inherit;font-size:100%;margin:0}
button,input{line-height:normal}
button,select{text-transform:none}
button,html input[type=button],input[type=reset],input[type=submit]{-webkit-appearance:button;cursor:pointer}
button[disabled],html input[disabled]{cursor:default}
input[type=checkbox],input[type=radio]{padding:0}
button::-moz-focus-inner,input::-moz-focus-inner{border:0;padding:0}
textarea{overflow:auto;vertical-align:top}
table{border-collapse:collapse;border-spacing:0}
*,::before,::after{box-sizing:border-box}
html,body{font-size:100%}
body{background:#fff;color:rgba(0,0,0,.8);padding:0;margin:0;font-family:"Noto Serif","DejaVu Serif",serif;line-height:1;position:relative;cursor:auto;-moz-tab-size:4;-o-tab-size:4;tab-size:4;word-wrap:anywhere;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased}
a:hover{cursor:pointer}
img,object,embed{max-width:100%;height:auto}
object,embed{height:100%}
img{-ms-interpolation-mode:bicubic}
.left{float:left!important}
.right{float:right!important}
.text-left{text-align:left!important}
.text-right{text-align:right!important}
.text-center{text-align:center!important}
.text-justify{text-align:justify!important}
.hide{display:none}
img,object,svg{display:inline-block;vertical-align:middle}
textarea{height:auto;min-height:50px}
select{width:100%}
.subheader,.admonitionblock td.content>.title,.audioblock>.title,.exampleblock>.title,.imageblock>.title,.listingblock>.title,.literalblock>.title,.stemblock>.title,.openblock>.title,.paragraph>.title,.quoteblock>.title,table.tableblock>.title,.verseblock>.title,.videoblock>.title,.dlist>.title,.olist>.title,.ulist>.title,.qlist>.title,.hdlist>.title{line-height:1.45;color:#7a2518;font-weight:400;margin-top:0;margin-bottom:.25em}
div,dl,dt,dd,ul,ol,li,h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6,pre,form,p,blockquote,th,td{margin:0;padding:0}
a{color:#2156a5;text-decoration:underline;line-height:inherit}
a:hover,a:focus{color:#1d4b8f}
a img{border:0}
p{line-height:1.6;margin-bottom:1.25em;text-rendering:optimizeLegibility}
p aside{font-size:.875em;line-height:1.35;font-style:italic}
h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{font-family:"Open Sans","DejaVu Sans",sans-serif;font-weight:300;font-style:normal;color:#ba3925;text-rendering:optimizeLegibility;margin-top:1em;margin-bottom:.5em;line-height:1.0125em}
h1 small,h2 small,h3 small,#toctitle small,.sidebarblock>.content>.title small,h4 small,h5 small,h6 small{font-size:60%;color:#e99b8f;line-height:0}
h1{font-size:2.125em}
h2{font-size:1.6875em}
h3,#toctitle,.sidebarblock>.content>.title{font-size:1.375em}
h4,h5{font-size:1.125em}
h6{font-size:1em}
hr{border:solid #dddddf;border-width:1px 0 0;clear:both;margin:1.25em 0 1.1875em}
em,i{font-style:italic;line-height:inherit}
strong,b{font-weight:bold;line-height:inherit}
small{font-size:60%;line-height:inherit}
code{font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;font-weight:400;color:rgba(0,0,0,.9)}
ul,ol,dl{line-height:1.6;margin-bottom:1.25em;list-style-position:outside;font-family:inherit}
ul,ol{margin-left:1.5em}
ul li ul,ul li ol{margin-left:1.25em;margin-bottom:0}
ul.square li ul,ul.circle li ul,ul.disc li ul{list-style:inherit}
ul.square{list-style-type:square}
ul.circle{list-style-type:circle}
ul.disc{list-style-type:disc}
ol li ul,ol li ol{margin-left:1.25em;margin-bottom:0}
dl dt{margin-bottom:.3125em;font-weight:bold}
dl dd{margin-bottom:1.25em}
blockquote{margin:0 0 1.25em;padding:.5625em 1.25em 0 1.1875em;border-left:1px solid #ddd}
blockquote,blockquote p{line-height:1.6;color:rgba(0,0,0,.85)}
@media screen and (min-width:768px){h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{line-height:1.2}
h1{font-size:2.75em}
h2{font-size:2.3125em}
h3,#toctitle,.sidebarblock>.content>.title{font-size:1.6875em}
h4{font-size:1.4375em}}
table{background:#fff;margin-bottom:1.25em;border:1px solid #dedede;word-wrap:normal}
table thead,table tfoot{background:#f7f8f7}
table thead tr th,table thead tr td,table tfoot tr th,table tfoot tr td{padding:.5em .625em .625em;font-size:inherit;color:rgba(0,0,0,.8);text-align:left}
table tr th,table tr td{padding:.5625em .625em;font-size:inherit;color:rgba(0,0,0,.8)}
table tr.even,table tr.alt{background:#f8f8f7}
table thead tr th,table tfoot tr th,table tbody tr td,table tr td,table tfoot tr td{line-height:1.6}
h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{line-height:1.2;word-spacing:-.05em}
h1 strong,h2 strong,h3 strong,#toctitle strong,.sidebarblock>.content>.title strong,h4 strong,h5 strong,h6 strong{font-weight:400}
.center{margin-left:auto;margin-right:auto}
.stretch{width:100%}
.clearfix::before,.clearfix::after,.float-group::before,.float-group::after{content:" ";display:table}
.clearfix::after,.float-group::after{clear:both}
:not(pre).nobreak{word-wrap:normal}
:not(pre).nowrap{white-space:nowrap}
:not(pre).pre-wrap{white-space:pre-wrap}
:not(pre):not([class^=L])>code{font-size:.9375em;font-style:normal!important;letter-spacing:0;padding:.1em .5ex;word-spacing:-.15em;background:#f7f7f8;border-radius:4px;line-height:1.45;text-rendering:optimizeSpeed}
pre{color:rgba(0,0,0,.9);font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;line-height:1.45;text-rendering:optimizeSpeed}
pre code,pre pre{color:inherit;font-size:inherit;line-height:inherit}
pre>code{display:block}
pre.nowrap,pre.nowrap pre{white-space:pre;word-wrap:normal}
em em{font-style:normal}
strong strong{font-weight:400}
.keyseq{color:rgba(51,51,51,.8)}
kbd{font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;display:inline-block;color:rgba(0,0,0,.8);font-size:.65em;line-height:1.45;background:#f7f7f7;border:1px solid #ccc;border-radius:3px;box-shadow:0 1px 0 rgba(0,0,0,.2),inset 0 0 0 .1em #fff;margin:0 .15em;padding:.2em .5em;vertical-align:middle;position:relative;top:-.1em;white-space:nowrap}
.keyseq kbd:first-child{margin-left:0}
.keyseq kbd:last-child{margin-right:0}
.menuseq,.menuref{color:#000}
.menuseq b:not(.caret),.menuref{font-weight:inherit}
.menuseq{word-spacing:-.02em}
.menuseq b.caret{font-size:1.25em;line-height:.8}
.menuseq i.caret{font-weight:bold;text-align:center;width:.45em}
b.button::before,b.button::after{position:relative;top:-1px;font-weight:400}
b.button::before{content:"[";padding:0 3px 0 2px}
b.button::after{content:"]";padding:0 2px 0 3px}
p a>code:hover{color:rgba(0,0,0,.9)}
#header,#content,#footnotes,#footer{width:100%;margin:0 auto;max-width:62.5em;*zoom:1;position:relative;padding-left:.9375em;padding-right:.9375em}
#header::before,#header::after,#content::before,#content::after,#footnotes::before,#footnotes::after,#footer::before,#footer::after{content:" ";display:table}
#header::after,#content::after,#footnotes::after,#footer::after{clear:both}
#content{margin-top:1.25em}
#content::before{content:none}
#header>h1:first-child{color:rgba(0,0,0,.85);margin-top:2.25rem;margin-bottom:0}
#header>h1:first-child+#toc{margin-top:8px;border-top:1px solid #dddddf}
#header>h1:only-child,body.toc2 #header>h1:nth-last-child(2){border-bottom:1px solid #dddddf;padding-bottom:8px}
#header .details{border-bottom:1px solid #dddddf;line-height:1.45;padding-top:.25em;padding-bottom:.25em;padding-left:.25em;color:rgba(0,0,0,.6);display:flex;flex-flow:row wrap}
#header .details span:first-child{margin-left:-.125em}
#header .details span.email a{color:rgba(0,0,0,.85)}
#header .details br{display:none}
#header .details br+span::before{content:"\00a0\2013\00a0"}
#header .details br+span.author::before{content:"\00a0\22c5\00a0";color:rgba(0,0,0,.85)}
#header .details br+span#revremark::before{content:"\00a0|\00a0"}
#header #revnumber{text-transform:capitalize}
#header #revnumber::after{content:"\00a0"}
#content>h1:first-child:not([class]){color:rgba(0,0,0,.85);border-bottom:1px solid #dddddf;padding-bottom:8px;margin-top:0;padding-top:1rem;margin-bottom:1.25rem}
#toc{border-bottom:1px solid #e7e7e9;padding-bottom:.5em}
#toc>ul{margin-left:.125em}
#toc ul.sectlevel0>li>a{font-style:italic}
#toc ul.sectlevel0 ul.sectlevel1{margin:.5em 0}
#toc ul{font-family:"Open Sans","DejaVu Sans",sans-serif;list-style-type:none}
#toc li{line-height:1.3334;margin-top:.3334em}
#toc a{text-decoration:none}
#toc a:active{text-decoration:underline}
#toctitle{color:#7a2518;font-size:1.2em}
@media screen and (min-width:768px){#toctitle{font-size:1.375em}
body.toc2{padding-left:15em;padding-right:0}
#toc.toc2{margin-top:0!important;background:#f8f8f7;position:fixed;width:15em;left:0;top:0;border-right:1px solid #e7e7e9;border-top-width:0!important;border-bottom-width:0!important;z-index:1000;padding:1.25em 1em;height:100%;overflow:auto}
#toc.toc2 #toctitle{margin-top:0;margin-bottom:.8rem;font-size:1.2em}
#toc.toc2>ul{font-size:.9em;margin-bottom:0}
#toc.toc2 ul ul{margin-left:0;padding-left:1em}
#toc.toc2 ul.sectlevel0 ul.sectlevel1{padding-left:0;margin-top:.5em;margin-bottom:.5em}
body.toc2.toc-right{padding-left:0;padding-right:15em}
body.toc2.toc-right #toc.toc2{border-right-width:0;border-left:1px solid #e7e7e9;left:auto;right:0}}
@media screen and (min-width:1280px){body.toc2{padding-left:20em;padding-right:0}
#toc.toc2{width:20em}
#toc.toc2 #toctitle{font-size:1.375em}
#toc.toc2>ul{font-size:.95em}
#toc.toc2 ul ul{padding-left:1.25em}
body.toc2.toc-right{padding-left:0;padding-right:20em}}
#content #toc{border:1px solid #e0e0dc;margin-bottom:1.25em;padding:1.25em;background:#f8f8f7;border-radius:4px}
#content #toc>:first-child{margin-top:0}
#content #toc>:last-child{margin-bottom:0}
#footer{max-width:none;background:rgba(0,0,0,.8);padding:1.25em}
#footer-text{color:hsla(0,0%,100%,.8);line-height:1.44}
#content{margin-bottom:.625em}
.sect1{padding-bottom:.625em}
@media screen and (min-width:768px){#content{margin-bottom:1.25em}
.sect1{padding-bottom:1.25em}}
.sect1:last-child{padding-bottom:0}
.sect1+.sect1{border-top:1px solid #e7e7e9}
#content h1>a.anchor,h2>a.anchor,h3>a.anchor,#toctitle>a.anchor,.sidebarblock>.content>.title>a.anchor,h4>a.anchor,h5>a.anchor,h6>a.anchor{position:absolute;z-index:1001;width:1.5ex;margin-left:-1.5ex;display:block;text-decoration:none!important;visibility:hidden;text-align:center;font-weight:400}
#content h1>a.anchor::before,h2>a.anchor::before,h3>a.anchor::before,#toctitle>a.anchor::before,.sidebarblock>.content>.title>a.anchor::before,h4>a.anchor::before,h5>a.anchor::before,h6>a.anchor::before{content:"\00A7";font-size:.85em;display:block;padding-top:.1em}
#content h1:hover>a.anchor,#content h1>a.anchor:hover,h2:hover>a.anchor,h2>a.anchor:hover,h3:hover>a.anchor,#toctitle:hover>a.anchor,.sidebarblock>.content>.title:hover>a.anchor,h3>a.anchor:hover,#toctitle>a.anchor:hover,.sidebarblock>.content>.title>a.anchor:hover,h4:hover>a.anchor,h4>a.anchor:hover,h5:hover>a.anchor,h5>a.anchor:hover,h6:hover>a.anchor,h6>a.anchor:hover{visibility:visible}
#content h1>a.link,h2>a.link,h3>a.link,#toctitle>a.link,.sidebarblock>.content>.title>a.link,h4>a.link,h5>a.link,h6>a.link{color:#ba3925;text-decoration:none}
#content h1>a.link:hover,h2>a.link:hover,h3>a.link:hover,#toctitle>a.link:hover,.sidebarblock>.content>.title>a.link:hover,h4>a.link:hover,h5>a.link:hover,h6>a.link:hover{color:#a53221}
details,.audioblock,.imageblock,.literalblock,.listingblock,.stemblock,.videoblock{margin-bottom:1.25em}
details{margin-left:1.25rem}
details>summary{cursor:pointer;display:block;position:relative;line-height:1.6;margin-bottom:.625rem;outline:none;-webkit-tap-highlight-color:transparent}
details>summary::-webkit-details-marker{display:none}
details>summary::before{content:"";border:solid transparent;border-left:solid;border-width:.3em 0 .3em .5em;position:absolute;top:.5em;left:-1.25rem;transform:translateX(15%)}
details[open]>summary::before{border:solid transparent;border-top:solid;border-width:.5em .3em 0;transform:translateY(15%)}
details>summary::after{content:"";width:1.25rem;height:1em;position:absolute;top:.3em;left:-1.25rem}
.admonitionblock td.content>.title,.audioblock>.title,.exampleblock>.title,.imageblock>.title,.listingblock>.title,.literalblock>.title,.stemblock>.title,.openblock>.title,.paragraph>.title,.quoteblock>.title,table.tableblock>.title,.verseblock>.title,.videoblock>.title,.dlist>.title,.olist>.title,.ulist>.title,.qlist>.title,.hdlist>.title{text-rendering:optimizeLegibility;text-align:left;font-family:"Noto Serif","DejaVu Serif",serif;font-size:1rem;font-style:italic}
table.tableblock.fit-content>caption.title{white-space:nowrap;width:0}
.paragraph.lead>p,#preamble>.sectionbody>[class=paragraph]:first-of-type p{font-size:1.21875em;line-height:1.6;color:rgba(0,0,0,.85)}
.admonitionblock>table{border-collapse:separate;border:0;background:none;width:100%}
.admonitionblock>table td.icon{text-align:center;width:80px}
.admonitionblock>table td.icon img{max-width:none}
.admonitionblock>table td.icon .title{font-weight:bold;font-family:"Open Sans","DejaVu Sans",sans-serif;text-transform:uppercase}
.admonitionblock>table td.content{padding-left:1.125em;padding-right:1.25em;border-left:1px solid #dddddf;color:rgba(0,0,0,.6);word-wrap:anywhere}
.admonitionblock>table td.content>:last-child>:last-child{margin-bottom:0}
.exampleblock>.content{border:1px solid #e6e6e6;margin-bottom:1.25em;padding:1.25em;background:#fff;border-radius:4px}
.exampleblock>.content>:first-child{margin-top:0}
.exampleblock>.content>:last-child{margin-bottom:0}
.sidebarblock{border:1px solid #dbdbd6;margin-bottom:1.25em;padding:1.25em;background:#f3f3f2;border-radius:4px}
.sidebarblock>:first-child{margin-top:0}
.sidebarblock>:last-child{margin-bottom:0}
.sidebarblock>.content>.title{color:#7a2518;margin-top:0;text-align:center}
.exampleblock>.content>:last-child>:last-child,.exampleblock>.content .olist>ol>li:last-child>:last-child,.exampleblock>.content .ulist>ul>li:last-child>:last-child,.exampleblock>.content .qlist>ol>li:last-child>:last-child,.sidebarblock>.content>:last-child>:last-child,.sidebarblock>.content .olist>ol>li:last-child>:last-child,.sidebarblock>.content .ulist>ul>li:last-child>:last-child,.sidebarblock>.content .qlist>ol>li:last-child>:last-child{margin-bottom:0}
.literalblock pre,.listingblock>.content>pre{border-radius:4px;overflow-x:auto;padding:1em;font-size:.8125em}
@media screen and (min-width:768px){.literalblock pre,.listingblock>.content>pre{font-size:.90625em}}
@media screen and (min-width:1280px){.literalblock pre,.listingblock>.content>pre{font-size:1em}}
.literalblock pre,.listingblock>.content>pre:not(.highlight),.listingblock>.content>pre[class=highlight],.listingblock>.content>pre[class^="highlight "]{background:#f7f7f8}
.literalblock.output pre{color:#f7f7f8;background:rgba(0,0,0,.9)}
.listingblock>.content{position:relative}
.listingblock code[data-lang]::before{display:none;content:attr(data-lang);position:absolute;font-size:.75em;top:.425rem;right:.5rem;line-height:1;text-transform:uppercase;color:inherit;opacity:.5}
.listingblock:hover code[data-lang]::before{display:block}
.listingblock.terminal pre .command::before{content:attr(data-prompt);padding-right:.5em;color:inherit;opacity:.5}
.listingblock.terminal pre .command:not([data-prompt])::before{content:"$"}
.listingblock pre.highlightjs{padding:0}
.listingblock pre.highlightjs>code{padding:1em;border-radius:4px}
.listingblock pre.prettyprint{border-width:0}
.prettyprint{background:#f7f7f8}
pre.prettyprint .linenums{line-height:1.45;margin-left:2em}
pre.prettyprint li{background:none;list-style-type:inherit;padding-left:0}
pre.prettyprint li code[data-lang]::before{opacity:1}
pre.prettyprint li:not(:first-child) code[data-lang]::before{display:none}
table.linenotable{border-collapse:separate;border:0;margin-bottom:0;background:none}
table.linenotable td[class]{color:inherit;vertical-align:top;padding:0;line-height:inherit;white-space:normal}
table.linenotable td.code{padding-left:.75em}
table.linenotable td.linenos,pre.pygments .linenos{border-right:1px solid;opacity:.35;padding-right:.5em;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}
pre.pygments span.linenos{display:inline-block;margin-right:.75em}
.quoteblock{margin:0 1em 1.25em 1.5em;display:table}
.quoteblock:not(.excerpt)>.title{margin-left:-1.5em;margin-bottom:.75em}
.quoteblock blockquote,.quoteblock p{color:rgba(0,0,0,.85);font-size:1.15rem;line-height:1.75;word-spacing:.1em;letter-spacing:0;font-style:italic;text-align:justify}
.quoteblock blockquote{margin:0;padding:0;border:0}
.quoteblock blockquote::before{content:"\201c";float:left;font-size:2.75em;font-weight:bold;line-height:.6em;margin-left:-.6em;color:#7a2518;text-shadow:0 1px 2px rgba(0,0,0,.1)}
.quoteblock blockquote>.paragraph:last-child p{margin-bottom:0}
.quoteblock .attribution{margin-top:.75em;margin-right:.5ex;text-align:right}
.verseblock{margin:0 1em 1.25em}
.verseblock pre{font-family:"Open Sans","DejaVu Sans",sans-serif;font-size:1.15rem;color:rgba(0,0,0,.85);font-weight:300;text-rendering:optimizeLegibility}
.verseblock pre strong{font-weight:400}
.verseblock .attribution{margin-top:1.25rem;margin-left:.5ex}
.quoteblock .attribution,.verseblock .attribution{font-size:.9375em;line-height:1.45;font-style:italic}
.quoteblock .attribution br,.verseblock .attribution br{display:none}
.quoteblock .attribution cite,.verseblock .attribution cite{display:block;letter-spacing:-.025em;color:rgba(0,0,0,.6)}
.quoteblock.abstract blockquote::before,.quoteblock.excerpt blockquote::before,.quoteblock .quoteblock blockquote::before{display:none}
.quoteblock.abstract blockquote,.quoteblock.abstract p,.quoteblock.excerpt blockquote,.quoteblock.excerpt p,.quoteblock .quoteblock blockquote,.quoteblock .quoteblock p{line-height:1.6;word-spacing:0}
.quoteblock.abstract{margin:0 1em 1.25em;display:block}
.quoteblock.abstract>.title{margin:0 0 .375em;font-size:1.15em;text-align:center}
.quoteblock.excerpt>blockquote,.quoteblock .quoteblock{padding:0 0 .25em 1em;border-left:.25em solid #dddddf}
.quoteblock.excerpt,.quoteblock .quoteblock{margin-left:0}
.quoteblock.excerpt blockquote,.quoteblock.excerpt p,.quoteblock .quoteblock blockquote,.quoteblock .quoteblock p{color:inherit;font-size:1.0625rem}
.quoteblock.excerpt .attribution,.quoteblock .quoteblock .attribution{color:inherit;font-size:.85rem;text-align:left;margin-right:0}
p.tableblock:last-child{margin-bottom:0}
td.tableblock>.content{margin-bottom:1.25em;word-wrap:anywhere}
td.tableblock>.content>:last-child{margin-bottom:-1.25em}
table.tableblock,th.tableblock,td.tableblock{border:0 solid #dedede}
table.grid-all>*>tr>*{border-width:1px}
table.grid-cols>*>tr>*{border-width:0 1px}
table.grid-rows>*>tr>*{border-width:1px 0}
table.frame-all{border-width:1px}
table.frame-ends{border-width:1px 0}
table.frame-sides{border-width:0 1px}
table.frame-none>colgroup+*>:first-child>*,table.frame-sides>colgroup+*>:first-child>*{border-top-width:0}
table.frame-none>:last-child>:last-child>*,table.frame-sides>:last-child>:last-child>*{border-bottom-width:0}
table.frame-none>*>tr>:first-child,table.frame-ends>*>tr>:first-child{border-left-width:0}
table.frame-none>*>tr>:last-child,table.frame-ends>*>tr>:last-child{border-right-width:0}
table.stripes-all>*>tr,table.stripes-odd>*>tr:nth-of-type(odd),table.stripes-even>*>tr:nth-of-type(even),table.stripes-hover>*>tr:hover{background:#f8f8f7}
th.halign-left,td.halign-left{text-align:left}
th.halign-right,td.halign-right{text-align:right}
th.halign-center,td.halign-center{text-align:center}
th.valign-top,td.valign-top{vertical-align:top}
th.valign-bottom,td.valign-bottom{vertical-align:bottom}
th.valign-middle,td.valign-middle{vertical-align:middle}
table thead th,table tfoot th{font-weight:bold}
tbody tr th{background:#f7f8f7}
tbody tr th,tbody tr th p,tfoot tr th,tfoot tr th p{color:rgba(0,0,0,.8);font-weight:bold}
p.tableblock>code:only-child{background:none;padding:0}
p.tableblock{font-size:1em}
ol{margin-left:1.75em}
ul li ol{margin-left:1.5em}
dl dd{margin-left:1.125em}
dl dd:last-child,dl dd:last-child>:last-child{margin-bottom:0}
li p,ul dd,ol dd,.olist .olist,.ulist .ulist,.ulist .olist,.olist .ulist{margin-bottom:.625em}
ul.checklist,ul.none,ol.none,ul.no-bullet,ol.no-bullet,ol.unnumbered,ul.unstyled,ol.unstyled{list-style-type:none}
ul.no-bullet,ol.no-bullet,ol.unnumbered{margin-left:.625em}
ul.unstyled,ol.unstyled{margin-left:0}
li>p:empty:only-child::before{content:"";display:inline-block}
ul.checklist>li>p:first-child{margin-left:-1em}
ul.checklist>li>p:first-child>.fa-square-o:first-child,ul.checklist>li>p:first-child>.fa-check-square-o:first-child{width:1.25em;font-size:.8em;position:relative;bottom:.125em}
ul.checklist>li>p:first-child>input[type=checkbox]:first-child{margin-right:.25em}
ul.inline{display:flex;flex-flow:row wrap;list-style:none;margin:0 0 .625em -1.25em}
ul.inline>li{margin-left:1.25em}
.unstyled dl dt{font-weight:400;font-style:normal}
ol.arabic{list-style-type:decimal}
ol.decimal{list-style-type:decimal-leading-zero}
ol.loweralpha{list-style-type:lower-alpha}
ol.upperalpha{list-style-type:upper-alpha}
ol.lowerroman{list-style-type:lower-roman}
ol.upperroman{list-style-type:upper-roman}
ol.lowergreek{list-style-type:lower-greek}
.hdlist>table,.colist>table{border:0;background:none}
.hdlist>table>tbody>tr,.colist>table>tbody>tr{background:none}
td.hdlist1,td.hdlist2{vertical-align:top;padding:0 .625em}
td.hdlist1{font-weight:bold;padding-bottom:1.25em}
td.hdlist2{word-wrap:anywhere}
.literalblock+.colist,.listingblock+.colist{margin-top:-.5em}
.colist td:not([class]):first-child{padding:.4em .75em 0;line-height:1;vertical-align:top}
.colist td:not([class]):first-child img{max-width:none}
.colist td:not([class]):last-child{padding:.25em 0}
.thumb,.th{line-height:0;display:inline-block;border:4px solid #fff;box-shadow:0 0 0 1px #ddd}
.imageblock.left{margin:.25em .625em 1.25em 0}
.imageblock.right{margin:.25em 0 1.25em .625em}
.imageblock>.title{margin-bottom:0}
.imageblock.thumb,.imageblock.th{border-width:6px}
.imageblock.thumb>.title,.imageblock.th>.title{padding:0 .125em}
.image.left,.image.right{margin-top:.25em;margin-bottom:.25em;display:inline-block;line-height:0}
.image.left{margin-right:.625em}
.image.right{margin-left:.625em}
a.image{text-decoration:none;display:inline-block}
a.image object{pointer-events:none}
sup.footnote,sup.footnoteref{font-size:.875em;position:static;vertical-align:super}
sup.footnote a,sup.footnoteref a{text-decoration:none}
sup.footnote a:active,sup.footnoteref a:active{text-decoration:underline}
#footnotes{padding-top:.75em;padding-bottom:.75em;margin-bottom:.625em}
#footnotes hr{width:20%;min-width:6.25em;margin:-.25em 0 .75em;border-width:1px 0 0}
#footnotes .footnote{padding:0 .375em 0 .225em;line-height:1.3334;font-size:.875em;margin-left:1.2em;margin-bottom:.2em}
#footnotes .footnote a:first-of-type{font-weight:bold;text-decoration:none;margin-left:-1.05em}
#footnotes .footnote:last-of-type{margin-bottom:0}
#content #footnotes{margin-top:-.625em;margin-bottom:0;padding:.75em 0}
div.unbreakable{page-break-inside:avoid}
.big{font-size:larger}
.small{font-size:smaller}
.underline{text-decoration:underline}
.overline{text-decoration:overline}
.line-through{text-decoration:line-through}
.aqua{color:#00bfbf}
.aqua-background{background:#00fafa}
.black{color:#000}
.black-background{background:#000}
.blue{color:#0000bf}
.blue-background{background:#0000fa}
.fuchsia{color:#bf00bf}
.fuchsia-background{background:#fa00fa}
.gray{color:#606060}
.gray-background{background:#7d7d7d}
.green{color:#006000}
.green-background{background:#007d00}
.lime{color:#00bf00}
.lime-background{background:#00fa00}
.maroon{color:#600000}
.maroon-background{background:#7d0000}
.navy{color:#000060}
.navy-background{background:#00007d}
.olive{color:#606000}
.olive-background{background:#7d7d00}
.purple{color:#600060}
.purple-background{background:#7d007d}
.red{color:#bf0000}
.red-background{background:#fa0000}
.silver{color:#909090}
.silver-background{background:#bcbcbc}
.teal{color:#006060}
.teal-background{background:#007d7d}
.white{color:#bfbfbf}
.white-background{background:#fafafa}
.yellow{color:#bfbf00}
.yellow-background{background:#fafa00}
span.icon>.fa{cursor:default}
a span.icon>.fa{cursor:inherit}
.admonitionblock td.icon [class^="fa icon-"]{font-size:2.5em;text-shadow:1px 1px 2px rgba(0,0,0,.5);cursor:default}
.admonitionblock td.icon .icon-note::before{content:"\f05a";color:#19407c}
.admonitionblock td.icon .icon-tip::before{content:"\f0eb";text-shadow:1px 1px 2px rgba(155,155,0,.8);color:#111}
.admonitionblock td.icon .icon-warning::before{content:"\f071";color:#bf6900}
.admonitionblock td.icon .icon-caution::before{content:"\f06d";color:#bf3400}
.admonitionblock td.icon .icon-important::before{content:"\f06a";color:#bf0000}
.conum[data-value]{display:inline-block;color:#fff!important;background:rgba(0,0,0,.8);border-radius:50%;text-align:center;font-size:.75em;width:1.67em;height:1.67em;line-height:1.67em;font-family:"Open Sans","DejaVu Sans",sans-serif;font-style:normal;font-weight:bold}
.conum[data-value] *{color:#fff!important}
.conum[data-value]+b{display:none}
.conum[data-value]::after{content:attr(data-value)}
pre .conum[data-value]{position:relative;top:-.125em}
b.conum *{color:inherit!important}
.conum:not([data-value]):empty{display:none}
dt,th.tableblock,td.content,div.footnote{text-rendering:optimizeLegibility}
h1,h2,p,td.content,span.alt,summary{letter-spacing:-.01em}
p strong,td.content strong,div.footnote strong{letter-spacing:-.005em}
p,blockquote,dt,td.content,span.alt,summary{font-size:1.0625rem}
p{margin-bottom:1.25rem}
.sidebarblock p,.sidebarblock dt,.sidebarblock td.content,p.tableblock{font-size:1em}
.exampleblock>.content{background:#fffef7;border-color:#e0e0dc;box-shadow:0 1px 4px #e0e0dc}
.print-only{display:none!important}
@page{margin:1.25cm .75cm}
@media print{*{box-shadow:none!important;text-shadow:none!important}
html{font-size:80%}
a{color:inherit!important;text-decoration:underline!important}
a.bare,a[href^="#"],a[href^="mailto:"]{text-decoration:none!important}
a[href^="http:"]:not(.bare)::after,a[href^="https:"]:not(.bare)::after{content:"(" attr(href) ")";display:inline-block;font-size:.875em;padding-left:.25em}
abbr[title]{border-bottom:1px dotted}
abbr[title]::after{content:" (" attr(title) ")"}
pre,blockquote,tr,img,object,svg{page-break-inside:avoid}
thead{display:table-header-group}
svg{max-width:100%}
p,blockquote,dt,td.content{font-size:1em;orphans:3;widows:3}
h2,h3,#toctitle,.sidebarblock>.content>.title{page-break-after:avoid}
#header,#content,#footnotes,#footer{max-width:none}
#toc,.sidebarblock,.exampleblock>.content{background:none!important}
#toc{border-bottom:1px solid #dddddf!important;padding-bottom:0!important}
body.book #header{text-align:center}
body.book #header>h1:first-child{border:0!important;margin:2.5em 0 1em}
body.book #header .details{border:0!important;display:block;padding:0!important}
body.book #header .details span:first-child{margin-left:0!important}
body.book #header .details br{display:block}
body.book #header .details br+span::before{content:none!important}
body.book #toc{border:0!important;text-align:left!important;padding:0!important;margin:0!important}
body.book #toc,body.book #preamble,body.book h1.sect0,body.book .sect1>h2{page-break-before:always}
.listingblock code[data-lang]::before{display:block}
#footer{padding:0 .9375em}
.hide-on-print{display:none!important}
.print-only{display:block!important}
.hide-for-print{display:none!important}
.show-for-print{display:inherit!important}}
@media amzn-kf8,print{#header>h1:first-child{margin-top:1.25rem}
.sect1{padding:0!important}
.sect1+.sect1{border:0}
#footer{background:none}
#footer-text{color:rgba(0,0,0,.6);font-size:.9em}}
@media amzn-kf8{#header,#content,#footnotes,#footer{padding:0}}
</style>
</head>
<body class="article data-line-1">
<div id="header">
</div>
<div id="content">
<div class="sect1 data-line-2">
<h2 id="blockchain">La cha√Æne de blocs (La blockchain)</h2>
<div class="sectionbody">
<div class="sect2 data-line-4">
<h3 id="_pr√©sentation">Pr√©sentation</h3>
<div class="paragraph data-line-6">
<p>La structure de donn√©es de la cha√Æne de blocs est une liste ordonn√©e et r√©tro-li√©e aux blocs de transactions. La cha√Æne de blocs peut √™tre stock√©e sous forme de fichier plat ou dans une simple base de donn√©es. Le client Bitcoin Core stocke les m√©tadonn√©es de la cha√Æne de blocs √† l&#8217;aide de la base de donn√©es LevelDB de Google. Les blocs sont &quot;r√©tro-li√©s&quot;, chacun se r√©f√©rant au bloc pr√©c√©dent dans la cha√Æne. La cha√Æne de blocs est souvent visualis√©e comme une pile verticale, avec des blocs superpos√©s les uns sur les autres et le premier bloc servant de base √† la pile. La visualisation de blocs empil√©s les uns sur les autres entra√Æne l&#8217;utilisation de termes tels que &quot;hauteur&quot; pour d√©signer la distance par rapport au premier bloc, et &quot;sommet&quot; ou &quot;pointe&quot; pour d√©signer le bloc le plus r√©cemment ajout√©.</p>
</div>
<div class="paragraph data-line-8">
<p>Chaque bloc de la cha√Æne de blocs est identifi√© par un hachage, g√©n√©r√© √† l&#8217;aide de l&#8217;algorithme de hachage cryptographique SHA256 sur l&#8217;en-t√™te du bloc. Chaque bloc fait √©galement r√©f√©rence √† un bloc pr√©c√©dent, connu sous le nom de bloc <em>parent</em>, via le champ &quot;hachage de bloc pr√©c√©dent&quot; dans l&#8217;en-t√™te de bloc. En d&#8217;autres termes, chaque bloc contient le hachage de son parent dans sa propre en-t√™te. La s√©quence de hachages reliant chaque bloc √† son parent cr√©e une cha√Æne remontant jusqu&#8217;au premier bloc jamais cr√©√©, connu sous le nom de <em>bloc de gen√®se</em>.</p>
</div>
<div class="paragraph data-line-10">
<p>Bien qu&#8217;un bloc n&#8217;ait qu&#8217;un seul parent, il peut temporairement avoir plusieurs enfants. Chacun des enfants fait r√©f√©rence au m√™me bloc que son parent et contient le m√™me hachage (parent) dans le champ &quot;hachage du bloc pr√©c√©dent&quot;. Plusieurs enfants apparaissent lors d&#8217;une &quot;fourche&quot; de cha√Æne de blocs, une situation temporaire qui se produit lorsque diff√©rents blocs sont d√©couverts presque simultan√©ment par diff√©rents mineurs (voir <a href="#forks">[forks]</a>). Finalement, un seul bloc enfant devient une partie de la cha√Æne de blocs et la &quot;fourche&quot; est r√©solu. M√™me si un bloc peut avoir plusieurs enfants, chaque bloc ne peut avoir qu&#8217;un seul parent. En effet, un bloc a un seul champ &quot;hachage de bloc pr√©c√©dent&quot; faisant r√©f√©rence √† son parent unique.</p>
</div>
<div class="paragraph data-line-12">
<p>Le champ &quot;hachage du bloc pr√©c√©dent&quot; se trouve √† l&#8217;int√©rieur de l&#8217;en-t√™te du bloc et affecte ainsi le hachage du bloc <em>courant</em>. La propre identit√© de l&#8217;enfant change si l&#8217;identit√© du parent change. Lorsque le parent est modifi√© de quelque mani√®re que ce soit, le hachage du parent change. Le hachage modifi√© du parent n√©cessite une modification du pointeur &quot;hachage de bloc pr√©c√©dent&quot; de l&#8217;enfant. Cela entra√Æne √† son tour la modification du hachage de l&#8217;enfant, ce qui n√©cessite une modification du pointeur du petit-enfant, qui √† son tour modifie le petit-enfant, et ainsi de suite. Cet effet de cascade garantit qu&#8217;une fois qu&#8217;un bloc est suivi de plusieurs g√©n√©rations, il ne peut pas √™tre modifi√© sans forcer un recalcul de tous les blocs suivants. Parce qu&#8217;un tel recalcul n√©cessiterait un calcul √©norme (et donc une consommation d&#8217;√©nergie), l&#8217;existence d&#8217;une longue cha√Æne de blocs rend immuable l&#8217;historique profond de la cha√Æne de blocs, ce qui est une caract√©ristique cl√© de la s√©curit√© du bitcoin.</p>
</div>
<div class="paragraph data-line-14">
<p>Une fa√ßon de penser √† la cha√Æne de blocs est comme des couches dans une formation g√©ologique ou un √©chantillon de carotte de glacier. Les couches de surface peuvent changer avec les saisons, voire √™tre souffl√©es avant d&#8217;avoir le temps de s&#8217;installer. Mais d√®s que l&#8217;on descend √† quelques centim√®tres de profondeur, les couches g√©ologiques deviennent de plus en plus stables. Au moment o√π vous regardez quelques centaines de m√®tres plus bas, vous regardez un instantan√© du pass√© qui est rest√© intact pendant des millions d&#8217;ann√©es. Dans la cha√Æne de blocs, les quelques blocs les plus r√©cents peuvent √™tre r√©vis√©s s&#8217;il y a un recalcul en cha√Æne d√ª √† une fourche. Les six premiers blocs sont comme quelques centim√®tres de terre arable. Mais une fois que vous allez plus profond√©ment dans la cha√Æne de blocs, au-del√† de six blocs, les blocs sont de moins en moins susceptibles de changer. Apr√®s 100 blocs de retour, il y a tellement de stabilit√© que la transaction coinbase - la transaction contenant le bitcoin nouvellement extrait - peut √™tre d√©pens√©e. Quelques milliers de blocs en arri√®re (un mois) et la cha√Æne de blocs est une histoire √©tablie, √† toutes fins pratiques. Alors que le protocole permet toujours √† une cha√Æne d&#8217;√™tre annul√©e par une cha√Æne plus longue et alors que la possibilit√© qu&#8217;un bloc soit invers√© existe toujours, la probabilit√© d&#8217;un tel √©v√©nement diminue au fil du temps jusqu&#8217;√† ce qu&#8217;elle devienne infinit√©simale.</p>
</div>
</div>
<div class="sect2 data-line-16">
<h3 id="_structure_dun_bloc">Structure d&#8217;un bloc</h3>
<div class="paragraph data-line-18">
<p>Un bloc est une structure de donn√©es de conteneur qui agr√®ge les transactions pour les inclure dans le grand livre public, la cha√Æne de blocs. Le bloc est compos√© d&#8217;un en-t√™te, contenant des m√©tadonn√©es, suivi d&#8217;une longue liste de transactions qui constituent l&#8217;essentiel de sa taille. L&#8217;en-t√™te de bloc est de 80 octets, alors que la transaction moyenne est d&#8217;au moins 400 octets et que le bloc moyen contient plus de 1900 transactions. Un bloc complet, avec toutes les transactions, est donc 10 000 fois plus grand que l&#8217;en-t√™te du bloc. <a href="#block_structure1">La structure d&#8217;un bloc</a> d√©crit la structure d&#8217;un bloc.</p>
</div>
<table id="block_structure1" class="tableblock frame-all grid-all stretch pagebreak-before data-line-24">
<caption class="title">Table 1. La structure d&#8217;un bloc</caption>
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Taille</th>
<th class="tableblock halign-left valign-top">Champ</th>
<th class="tableblock halign-left valign-top">La description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">4 octets</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Taille de bloc</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">La taille du bloc, en octets, suivant ce champ</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">80 octets</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">En-t√™te de bloc</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Plusieurs champs forment l&#8217;en-t√™te du bloc</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1‚Äì9 octets (VarInt)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Compteur de transactions</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Combien de transactions suivent</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">variables</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Transactions</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Les transactions enregistr√©es dans ce bloc</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2 data-line-33">
<h3 id="block_header">En-t√™te de bloc</h3>
<div class="paragraph data-line-35">
<p>L&#8217;en-t√™te de bloc se compose de trois ensembles de m√©tadonn√©es de bloc. Tout d&#8217;abord, il y a une r√©f√©rence √† un hachage de bloc pr√©c√©dent, qui connecte ce bloc au bloc pr√©c√©dent dans la cha√Æne de blocs. Le deuxi√®me ensemble de m√©tadonn√©es, √† savoir <em>difficulty</em>, <em>timestamp</em> et <em>nonce</em>, concerne la concurrence mini√®re, comme d√©taill√© dans <a href="#mining">[mining]</a>. La troisi√®me m√©tadonn√©e est la racine de l&#8217;arbre Merkle, une structure de donn√©es utilis√©e pour r√©sumer efficacement toutes les transactions du bloc. <a href="#block_header_structure_ch09">La structure de l&#8217;ent√™te du bloc</a> d√©crit la structure d&#8217;un en-t√™te de bloc.</p>
</div>
<table id="block_header_structure_ch09" class="tableblock frame-all grid-all stretch data-line-41">
<caption class="title">Table 2. La structure de l&#8217;ent√™te du bloc</caption>
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Taille</th>
<th class="tableblock halign-left valign-top">Champ</th>
<th class="tableblock halign-left valign-top">La description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">4 octets</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Version</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Un num√©ro de version pour suivre les mises √† niveau du logiciel/protocole</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">32 octets</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Hachage de bloc pr√©c√©dent</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Une r√©f√©rence au hachage du bloc pr√©c√©dent (parent) dans la cha√Æne</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">32 octets</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Racine de Merkle</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Un hachage de la racine de l&#8217;arbre Merkle des transactions de ce bloc</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">4 octets</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Horodatage</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Le temps de cr√©ation approximatif de ce bloc (en secondes √©coul√©es depuis Unix Epoch)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">4 octets</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Cible de difficult√©</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">La cible de difficult√© de l&#8217;algorithme Proof-of-Work (ou Preuve de travail) pour ce bloc</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">4 octets</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Nonce</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Un compteur utilis√© pour l&#8217;algorithme de preuve de travail</p></td>
</tr>
</tbody>
</table>
<div class="paragraph data-line-51">
<p>Le nonce, la cible de difficult√© et l&#8217;horodatage sont utilis√©s dans le processus d&#8217;extraction et seront discut√©s plus en d√©tail dans <a href="#mining">[mining]</a>.</p>
</div>
</div>
<div class="sect2 data-line-54">
<h3 id="block_hash">Identificateurs de bloc¬†: hachage d&#8217;en-t√™te de bloc et hauteur de bloc</h3>
<div class="paragraph data-line-56">
<p>L&#8217;identifiant primaire d&#8217;un bloc est son hachage cryptographique, une empreinte digitale, r√©alis√©e en hachant deux fois l&#8217;en-t√™te du bloc via l&#8217;algorithme SHA256. Le hachage de 32¬†octets r√©sultant est appel√© <em>hachage de bloc</em> mais est plus pr√©cis√©ment le <em>hachage d&#8217;en-t√™te de bloc</em>, <span role="keep-together">car seul l'en-t√™te de bloc est utilis√© pour le calculer. Par exemple,</span> 000000000019d6689c085ae165831e934ff763ae46a2a6c172b3f1b60a8ce26f est le hachage de bloc du premier bloc bitcoin jamais cr√©√©. Le hachage de bloc identifie un bloc de mani√®re unique et sans ambigu√Øt√© et peut √™tre d√©riv√© ind√©pendamment par n&#8217;importe quel n≈ìud en double hachant simplement l&#8217;en-t√™te de bloc avec l&#8217;algorithme SHA256.</p>
</div>
<div class="paragraph data-line-58">
<p>Notez que le hachage de bloc n&#8217;est pas r√©ellement inclus dans la structure de donn√©es du bloc, ni lorsque le bloc est transmis sur le r√©seau, ni lorsqu&#8217;il est stock√© sur le stockage de persistance d&#8217;un n≈ìud dans le cadre de la cha√Æne de blocs. Au lieu de cela, le hachage du bloc est calcul√© par chaque n≈ìud lorsque le bloc est re√ßu du r√©seau. Le hachage de bloc peut √™tre stock√© dans une table de base de donn√©es distincte dans le cadre des m√©tadonn√©es du bloc, pour faciliter l&#8217;indexation et une r√©cup√©ration plus rapide des blocs √† partir du disque.</p>
</div>
<div class="paragraph data-line-60">
<p>Une deuxi√®me fa√ßon d&#8217;identifier un bloc est par sa position dans la cha√Æne de blocs, appel√©e le <span role="keep-together"><em>hauteur de bloc</em>. Le premier bloc jamais cr√©√© est √† la hauteur de bloc 0 (z√©ro) et est le</span> <span role="keep-together">m√™me bloc qui √©tait pr√©c√©demment r√©f√©renc√© par le hachage de bloc suivant</span> 000000000019d6689c085ae165831e934ff763ae46a2a6c172b3f1b60a8ce26f. Un bloc peut ainsi √™tre identifi√© de deux mani√®res : en r√©f√©ren√ßant le hachage du bloc ou en r√©f√©ren√ßant la hauteur du bloc. Chaque bloc suivant ajout√© &quot;au-dessus&quot; de ce premier bloc est une position &quot;plus √©lev√©e&quot; dans la cha√Æne de blocs, comme des bo√Ætes empil√©es les unes sur les autres.</p>
</div>
<div class="paragraph data-line-62">
<p>De plus, le terme <em>hauteur de bloc actuelle</em> indique la taille de la cha√Æne de blocs en blocs √† un moment donn√©. Par exemple, la hauteur actuelle du bloc au 1er mars 2021 √©tait d&#8217;environ 672 722, ce qui signifie qu&#8217;il y avait 672 722 blocs empil√©s au-dessus du premier bloc cr√©√© en janvier 2009.</p>
</div>
<div class="paragraph data-line-64">
<p>Contrairement au hachage de bloc, la hauteur de bloc n&#8217;est pas un identifiant unique. Bien qu&#8217;un seul bloc ait toujours une hauteur de bloc sp√©cifique et invariante, l&#8217;inverse n&#8217;est pas vrai : la hauteur de bloc n&#8217;identifie pas toujours un seul bloc. Deux ou plusieurs blocs peuvent avoir la m√™me hauteur de bloc, en concurrence pour la m√™me position dans la cha√Æne de blocs. Ce sc√©nario est d√©crit en d√©tail dans la section <a href="#forks">[forks]</a>. La hauteur de bloc ne fait pas non plus partie de la structure de donn√©es du bloc¬†; il n&#8217;est pas stock√© dans le bloc. Chaque n≈ìud identifie dynamiquement la position (hauteur) d&#8217;un bloc dans la cha√Æne de blocs lorsqu&#8217;il est re√ßu du r√©seau Bitcoin. La hauteur de bloc peut √©galement √™tre stock√©e sous forme de m√©tadonn√©es dans une table de base de donn√©es index√©e pour une r√©cup√©ration plus rapide.</p>
</div>
<div class="admonitionblock tip data-line-67">
<table>
<tr>
<td class="icon">
<div class="title">Tip</div>
</td>
<td class="content">
<div class="paragraph data-line-68">
<p>Le <em>hachage de bloc</em> d&#8217;un bloc identifie toujours un seul bloc de mani√®re unique. Un bloc a √©galement toujours une <em>hauteur de bloc</em> sp√©cifique. Cependant, il n&#8217;est pas toujours vrai qu&#8217;une hauteur de bloc sp√©cifique puisse identifier un seul bloc. Au contraire, deux blocs ou plus pourraient se disputer une seule position dans la cha√Æne de blocs.</p>
</div>
</td>
</tr>
</table>
</div>
</div>
<div class="sect2 data-line-71">
<h3 id="_le_bloc_dorigine_ou_de_gen√®se">Le bloc d&#8217;origine (ou de gen√®se)</h3>
<div class="paragraph data-line-73">
<p> Le premier bloc de la cha√Æne de blocs est appel√© le bloc d&#8217;origine (ou de gen√®se) et a √©t√© cr√©√© en 2009. Il est l&#8217;anc√™tre commun de tous les blocs de la cha√Æne de blocs, ce qui signifie que si vous commencez √† n&#8217;importe quel bloc et suivez la cha√Æne en arri√®re dans le temps, vous finirez par arriver au bloc de gen√®se.</p>
</div>
<div class="paragraph data-line-75">
<p>Chaque n≈ìud commence toujours par une cha√Æne de blocs d&#8217;au moins un bloc car le bloc de gen√®se est encod√© de mani√®re statique dans le logiciel client Bitcoin, de sorte qu&#8217;il ne peut pas √™tre modifi√©. Chaque n≈ìud &quot;conna√Æt&quot; toujours le hachage et la structure du bloc de gen√®se, l&#8217;heure fixe √† laquelle il a √©t√© cr√©√© et m√™me la transaction unique qu&#8217;il contient. Ainsi, chaque n≈ìud a le point de d√©part de la cha√Æne de blocs, une &quot;racine&quot; s√©curis√©e √† partir de laquelle construire une cha√Æne de blocs de confiance.</p>
</div>
<div class="paragraph data-line-77">
<p>Voir le bloc de gen√®se encod√© statiquement √† l&#8217;int√©rieur du client Bitcoin Core, dans <a href="https://bit.ly/1x6rcwP" data-href="https://bit.ly/1x6rcwP"><em>chainparams.cpp</em></a>.</p>
</div>
<div class="paragraph data-line-79">
<p>Le hachage d&#8217;identifiant suivant appartient au bloc genesis¬†:</p>
</div>
<div class="listingblock data-line-81">
<div class="content">
<pre>000000000019d6689c085ae165831e934ff763ae46a2a6c172b3f1b60a8ce26f</pre>
</div>
</div>
<div class="paragraph data-line-85">
<p>Vous pouvez rechercher ce hachage de bloc sur n&#8217;importe quel site web d&#8217;explorateur de blocs, tel que <em>Blockchain.com</em>, et vous trouverez une page d√©crivant le contenu de ce bloc, avec une URL contenant ce hachage¬†:</p>
</div>
<div class="paragraph data-line-87">
<p><a href="https://www.blockchain.com/btc/block/000000000019d6689c085ae165831e934ff763ae46a2a6c172b3f1b60a8ce26f" class="undefined" data-href="https://www.blockchain.com/btc/block/000000000019d6689c085ae165831e934ff763ae46a2a6c172b3f1b60a8ce26f">https://www.blockchain.com/btc/block/000000000019d6689c085ae165831e934ff763ae46a2a6c172b3f1b60a8ce26f</a></p>
</div>
<div class="paragraph data-line-89">
<p>Utilisation du client de r√©f√©rence Bitcoin Core sur la ligne de commande¬†:</p>
</div>
<div class="listingblock data-line-91">
<div class="content">
<pre>$ bitcoin-cli getblock 000000000019d6689c085ae165831e934ff763ae46a2a6c172b3f1b60a8ce26f</pre>
</div>
</div>
<div class="listingblock data-line-95">
<div class="content">
<pre class="highlight"><code class="language-json" data-lang="json">{
    "hash" : "000000000019d6689c085ae165831e934ff763ae46a2a6c172b3f1b60a8ce26f",
    "confirmations" : 308321,
    "size" : 285,
    "height" : 0,
    "version" : 1,
    "merkleroot" : "4a5e1e4baab89f3a32518a88c31bc87f618f76673e2cc77ab2127b7afdeda33b",
    "tx" : [
        "4a5e1e4baab89f3a32518a88c31bc87f618f76673e2cc77ab2127b7afdeda33b"
    ],
    "time" : 1231006505,
    "nonce" : 2083236893,
    "bits" : "1d00ffff",
    "difficulty" : 1.00000000,
    "nextblockhash" : "00000000839a8e6886ab5951d76f411475428afc90947ee320161bbf18eb6048"
}</code></pre>
</div>
</div>
<div class="paragraph data-line-114">
<p>Le bloc de gen√®se contient un message cach√© en son sein. L&#8217;entr√©e de transaction coinbase contient le texte "The Times 03/Jan/2009 Chancellor on brink of second bailout for banks.". Ce message √©tait destin√© √† offrir une preuve de la date la plus ancienne de cr√©ation de ce bloc, en faisant r√©f√©rence au titre du journal britannique <em>The Times</em>. Il sert √©galement de rappel ironique de l&#8217;importance d&#8217;un syst√®me mon√©taire ind√©pendant, le lancement du bitcoin se produisant en m√™me temps qu&#8217;une crise mon√©taire mondiale sans pr√©c√©dent. Le message a √©t√© int√©gr√© dans le premier bloc par Satoshi Nakamoto, le cr√©ateur de Bitcoin.</p>
</div>
</div>
<div class="sect2 data-line-116">
<h3 id="_relier_les_blocs_dans_la_cha√Æne_de_blocs">Relier les blocs dans la cha√Æne de blocs</h3>
<div class="paragraph data-line-118">
<p>Les n≈ìuds complets Bitcoin conservent une copie locale de la cha√Æne de blocs, √† partir du bloc de gen√®se. La copie locale de la cha√Æne de blocs est constamment mise √† jour au fur et √† mesure que de nouveaux blocs sont trouv√©s et utilis√©s pour √©tendre la cha√Æne. Lorsqu&#8217;un n≈ìud re√ßoit des blocs entrants du r√©seau, il validera ces blocs, puis les reliera √† la cha√Æne de blocs existante. Pour √©tablir un lien, un n≈ìud examinera l&#8217;en-t√™te de bloc entrant et recherchera le &quot;hachage de bloc pr√©c√©dent&quot;.</p>
</div>
<div class="paragraph data-line-120">
<p>Supposons, par exemple, qu&#8217;un n≈ìud ait 277 314 blocs dans la copie locale de la cha√Æne de blocs. Le dernier bloc dont le n≈ìud a connaissance est le bloc 277¬†314, avec un hachage d&#8217;en-t√™te de bloc¬†:</p>
</div>
<div class="listingblock data-line-122">
<div class="content">
<pre>00000000000000027e7ba6fe7bad39faf3b5a83daed765f05f7d1b71a1632249</pre>
</div>
</div>
<div class="paragraph data-line-126">
<p>Le n≈ìud Bitcoin re√ßoit alors un nouveau bloc du r√©seau, qu&#8217;il analyse comme suit :</p>
</div>
<div class="listingblock data-line-129">
<div class="content">
<pre class="highlight"><code class="language-json" data-lang="json">{
    "size" : 43560,
    "version" : 2,
    "previousblockhash" :
        "00000000000000027e7ba6fe7bad39faf3b5a83daed765f05f7d1b71a1632249",
    "merkleroot" :
        "5e049f4030e0ab2debb92378f53c0a6e09548aea083f3ab25e1d94ea1155e29d",
    "time" : 1388185038,
    "difficulty" : 1180923195.25802612,
    "nonce" : 4215469401,
    "tx" : [
        "257e7497fb8bc68421eb2c7b699dbab234831600e7352f0d9e6522c7cf3f6c77",

 #[... beaucoup plus de transactions omises ...]

        "05cfd38f6ae6aa83674cc99e4d75a1458c165b7ab84725eda41d018a09176634"
    ]
}</code></pre>
</div>
</div>
<div class="paragraph data-line-150">
<p>En regardant ce nouveau bloc, le n≈ìud trouve le champ previousblockhash, qui contient le hachage de son bloc parent. Il s&#8217;agit d&#8217;un hachage connu du n≈ìud, celui du dernier bloc de la cha√Æne √† la hauteur 277,314. Par cons√©quent, ce nouveau bloc est un enfant du dernier bloc de la cha√Æne et √©tend la cha√Æne de blocs existante. Le n≈ìud ajoute ce nouveau bloc √† la fin de la cha√Æne, rendant la cha√Æne de blocs plus longue avec une nouvelle hauteur de 277 315. <a href="#chain_of_blocks">Blocs li√©s dans une cha√Æne par r√©f√©rence au hachage d&#8217;en-t√™te de bloc pr√©c√©dent</a> montre la cha√Æne de trois blocs, li√©s par des r√©f√©rences dans le champ previousblockhash.</p>
</div>
</div>
<div class="sect2 data-line-154">
<h3 id="merkle_trees">Arbres de Merkle</h3>
<div class="paragraph data-line-156">
<p>Chaque bloc de la cha√Æne de blocs Bitcoin contient un r√©sum√© de tous les transactions dans le bloc √† l&#8217;aide d&#8217;un <em>arbre de Merkle</em>.</p>
</div>
<div class="paragraph data-line-158">
<p>Un <em>arbre de Merkle</em>, √©galement appel√© <em>arbre de hachage binaire</em>, est une structure de donn√©es utilis√©e pour r√©sumer et v√©rifier efficacement l&#8217;int√©grit√© de grands ensembles de donn√©es. Les arbres de Merkle sont des arbres binaires contenant des hachages cryptographiques. Le terme &quot;arbre&quot; est utilis√© en informatique pour d√©crire une structure de donn√©es ramifi√©e, mais ces arbres sont g√©n√©ralement affich√©s √† l&#8217;envers avec la &quot;racine&quot; en haut et les &quot;feuilles&quot; en bas d&#8217;un diagramme, comme vous le verrez dans les exemples qui suivent.</p>
</div>
<div id="chain_of_blocks" class="imageblock smallerfourtyfive data-line-163">
<div class="content">
<img src="images/mbc2_0901.png" alt="mbc2 0901">
</div>
<div class="title">Figure 1. Blocs li√©s dans une cha√Æne par r√©f√©rence au hachage d&#8217;en-t√™te de bloc pr√©c√©dent</div>
</div>
<div class="paragraph data-line-165">
<p>Les arbres de Merkle sont utilis√©s dans Bitcoin pour r√©sumer toutes les transactions d&#8217;un bloc, produisant une empreinte num√©rique globale de l&#8217;ensemble des transactions, fournissant un processus tr√®s efficace pour v√©rifier si une transaction est incluse dans un bloc. Un arbre Merkle est construit en hachant r√©cursivement des paires de n≈ìuds jusqu&#8217;√† ce qu&#8217;il n&#8217;y ait qu&#8217;un seul hachage, appel√© <em>racine</em>, ou <em>racine de Merkle</em>. L&#8217;algorithme de hachage cryptographique utilis√© dans les arbres de Merkle de Bitcoin est SHA256 appliqu√© deux fois, √©galement connu sous le nom de double-SHA256.</p>
</div>
<div class="paragraph data-line-167">
<p>Lorsque N √©l√©ments de donn√©es sont hach√©s et r√©sum√©s dans un arbre de Merkle, vous pouvez v√©rifier si un √©l√©ment de donn√©es est inclus dans l&#8217;arbre avec au plus 2*log~2~(N) calculs, ce qui en fait une donn√©e tr√®s efficace structure.</p>
</div>
<div class="paragraph data-line-169">
<p>L&#8217;arbre de Merkle est construit de bas en haut. Dans l&#8217;exemple suivant, nous commen√ßons avec quatre transactions, A, B, C et D, qui forment les <em>feuilles</em> de l&#8217;arbre de Merkle, comme indiqu√© dans <a href="#simple_merkle">Calcul des n≈ìuds dans un arbre de Merkle</a>. Les transactions ne sont pas stock√©es dans l&#8217;arborescence de Merkle ; √† la place, leurs donn√©es sont hach√©es et le hachage r√©sultant est stock√© dans chaque n≈ìud feuille sous la forme H<sub>A</sub>, H<sub>B</sub>, H<sub>C</sub> et H<sub>D</sub>¬†:</p>
</div>
<pre data-type="codelisting">
H<sub>A</sub> = SHA256(SHA256(Transaction A))
</pre>
<div class="paragraph data-line-177">
<p>Des paires cons√©cutives de n≈ìuds feuilles sont ensuite r√©sum√©es dans un n≈ìud parent, en concat√©nant les deux hachages et en les hachant ensemble. Par exemple, pour construire le n≈ìud parent H<sub>AB</sub>, les deux hachages de 32¬†octets des enfants sont concat√©n√©s pour cr√©er une cha√Æne de 64¬†octets. Cette cha√Æne est ensuite doublement hach√©e pour produire le hachage du n≈ìud parent¬†:</p>
</div>
<pre data-type="codelisting">
H<sub>AB</sub> = SHA256(SHA256(H<sub>A</sub> + H<sub>B</sub>))
</pre>
<div class="paragraph data-line-185">
<p>Le processus se poursuit jusqu&#8217;√† ce qu&#8217;il n&#8217;y ait qu&#8217;un seul n≈ìud au sommet, le n≈ìud connu sous le nom de racine de Merkle. Ce hachage de 32 octets est stock√© dans l&#8217;en-t√™te du bloc et r√©sume toutes les donn√©es des quatre transactions. &lt;&lt;simple_merkle&gt; &gt; montre comment la racine est calcul√©e par hachages par paires des n≈ìuds.</p>
</div>
<div id="simple_merkle" class="imageblock data-line-189">
<div class="content">
<img src="images/mbc2_0902.png" alt="Arbre de Merkle">
</div>
<div class="title">Figure 2. Calcul des n≈ìuds dans un arbre de Merkle</div>
</div>
<div class="paragraph data-line-191">
<p>Parce que l&#8217;arbre de Merkle est un arbre binaire, il a besoin d&#8217;un nombre pair de n≈ìuds feuilles. S&#8217;il y a un nombre impair de transactions √† r√©sumer, le dernier hachage de transaction sera dupliqu√© pour cr√©er un nombre pair de n≈ìuds feuilles, √©galement appel√©s <em>arbre √©quilibr√©</em>. Ceci est montr√© dans <a href="#merkle_tree_odd">La duplication d&#8217;un √©l√©ment de donn√©es permet d&#8217;obtenir un nombre pair d&#8217;√©l√©ments de donn√©es</a>, o√π la transaction C est dupliqu√©e.</p>
</div>
<div id="merkle_tree_odd" class="imageblock data-line-195">
<div class="content">
<img src="images/mbc2_0903.png" alt="Arbre de Merkle impair">
</div>
<div class="title">Figure 3. La duplication d&#8217;un √©l√©ment de donn√©es permet d&#8217;obtenir un nombre pair d&#8217;√©l√©ments de donn√©es</div>
</div>
<div class="paragraph data-line-197">
<p>La m√™me m√©thode de construction d&#8217;un arbre √† partir de quatre transactions peut √™tre g√©n√©ralis√©e pour construire des arbres de n&#8217;importe quelle taille. Dans le Bitcoin, il est courant d&#8217;avoir plusieurs centaines √† plus d&#8217;un millier de transactions dans un seul bloc, qui sont r√©sum√©es exactement de la m√™me mani√®re, produisant seulement 32 octets de donn√©es en tant que racine de Merkle unique. Dans <a href="#merkle_tree_large">Un arbre Merkle r√©sumant de nombreux √©l√©ments de donn√©es</a>, vous verrez un arbre construit √† partir de 16 transactions. Notez que bien que la racine semble plus grande que les n≈ìuds feuilles dans le diagramme, elle a exactement la m√™me taille, seulement 32 octets. Qu&#8217;il y ait une transaction ou cent mille transactions dans le bloc, la racine de Merkle les r√©sume toujours en 32 octets.</p>
</div>
<div class="paragraph data-line-199">
<p>Pour prouver qu&#8217;une transaction sp√©cifique est incluse dans un bloc, un n≈ìud n&#8217;a besoin que de produire log~2~(N) hachages de 32¬†octets, constituant un <em>chemin d&#8217;authentification</em> ou <em>chemin de Merkle</em> se connectant la transaction sp√©cifique √† la racine de l&#8217;arborescence. Ceci est particuli√®rement important lorsque le nombre de transactions augmente, car le logarithme en base 2 du nombre de transactions augmente beaucoup plus lentement. Cela permet aux n≈ìuds Bitcoin de produire efficacement des chemins de 10 ou 12 hachages (320 √† 384 octets), qui peuvent fournir la preuve d&#8217;une seule transaction parmi plus de mille transactions dans un bloc de la taille d&#8217;un m√©gaoctet.</p>
</div>
<div id="merkle_tree_large" class="imageblock data-line-203">
<div class="content">
<img src="images/mbc2_0904.png" alt="Grand arbre de Merkle">
</div>
<div class="title">Figure 4. Un arbre Merkle r√©sumant de nombreux √©l√©ments de donn√©es</div>
</div>
<div class="paragraph data-line-205">
<p>Dans <a href="#merkle_tree_path">Un chemin (ou trajet) de Merkle utilis√© pour prouver l&#8217;inclusion d&#8217;un √©l√©ment de donn√©es</a>, un n≈ìud peut prouver qu&#8217;une transaction K est incluse dans le bloc en produisant un chemin de Merkle qui ne fait que quatre hachages de 32 octets (128 octets au total). Le chemin se compose des quatre hachages (affich√©s avec un arri√®re-plan ombr√© dans <a href="#merkle_tree_path">Un chemin (ou trajet) de Merkle utilis√© pour prouver l&#8217;inclusion d&#8217;un √©l√©ment de donn√©es</a>) H<sub>L</sub>, H<sub>IJ</sub>, H<sub>MNOP</sub> et H<sub>ABCDEFGH</sub>. Avec ces quatre hachages fournis comme chemin d&#8217;authentification, n&#8217;importe quel n≈ìud peut prouver que H<sub>K</sub> (avec un fond noir au bas du diagramme) est inclus dans la racine de Merkle en calculant quatre hachages suppl√©mentaires par paires H<sub>KL</sub>, H<sub>IJKL</sub>, H<sub>IJKLMNOP</sub> et la racine de l&#8217;arbre de Merkle (indiqu√©e par une ligne pointill√©e dans le diagramme).</p>
</div>
<div id="merkle_tree_path" class="imageblock data-line-209">
<div class="content">
<img src="images/mbc2_0905.png" alt="Chemin d&#8217;arbre de Merkle">
</div>
<div class="title">Figure 5. Un chemin (ou trajet) de Merkle utilis√© pour prouver l&#8217;inclusion d&#8217;un √©l√©ment de donn√©es</div>
</div>
<div class="paragraph data-line-212">
<p>Le code dans <a href="#merkle_example">Construire un arbre de Merkle</a> illustre le processus de cr√©ation d&#8217;un arbre de Merkle depuis les hachages de n≈ìud feuille jusqu&#8217;√† la racine, en utilisant la biblioth√®que libbitcoin pour certaines fonctions d&#8217;assistance.</p>
</div>
<div id="merkle_example" class="exampleblock pagebreak-before data-line-217">
<div class="title">Example 1. Construire un arbre de Merkle</div>
<div class="content">
<div class="listingblock data-line-219">
<div class="content">
<pre class="highlight"><code class="language-cpp" data-lang="cpp">#include &lt;bitcoin/bitcoin.hpp&gt;

bc::hash_digest create_merkle(bc::hash_list&amp; merkle)
{
    // Stop if hash list is empty.
    if (merkle.empty())
        return bc::null_hash;
    else if (merkle.size() == 1)
        return merkle[0];

    // While there is more than 1 hash in the list, keep looping...
    while (merkle.size() &gt; 1)
    {
        // If number of hashes is odd, duplicate last hash in the list.
        if (merkle.size() % 2 != 0)
            merkle.push_back(merkle.back());
        // List size is now even.
        assert(merkle.size() % 2 == 0);

        // New hash list.
        bc::hash_list new_merkle;
        // Loop through hashes 2 at a time.
        for (auto it = merkle.begin(); it != merkle.end(); it += 2)
        {
            // Join both current hashes together (concatenate).
            bc::data_chunk concat_data(bc::hash_size * 2);
            auto concat = bc::serializer&lt;
                decltype(concat_data.begin())&gt;(concat_data.begin());
            concat.write_hash(*it);
            concat.write_hash(*(it + 1));
            // Hash both of the hashes.
            bc::hash_digest new_root = bc::bitcoin_hash(concat_data);
            // Add this to the new list.
            new_merkle.push_back(new_root);
        }
        // This is the new list.
        merkle = new_merkle;

        // DEBUG output -------------------------------------
        std::cout &lt;&lt; "Current merkle hash list:" &lt;&lt; std::endl;
        for (const auto&amp; hash: merkle)
            std::cout &lt;&lt; "  " &lt;&lt; bc::encode_base16(hash) &lt;&lt; std::endl;
        std::cout &lt;&lt; std::endl;
        // --------------------------------------------------
    }
    // Finally we end up with a single item.
    return merkle[0];
}

int main()
{
    // Replace these hashes with ones from a block to reproduce the same merkle root.
    bc::hash_list tx_hashes{{
        bc::hash_literal("0000000000000000000000000000000000000000000000000000000000000000"),
        bc::hash_literal("0000000000000000000000000000000000000000000000000000000000000011"),
        bc::hash_literal("0000000000000000000000000000000000000000000000000000000000000022"),
    }};
    const bc::hash_digest merkle_root = create_merkle(tx_hashes);
    std::cout &lt;&lt; "Result: " &lt;&lt; bc::encode_base16(merkle_root) &lt;&lt; std::endl;
    return 0;
}</code></pre>
</div>
</div>
</div>
</div>
<div class="paragraph data-line-224">
<p><a href="#merkle_example_run">Compilation et ex√©cution de l&#8217;exemple de code de Merkle</a> montre le r√©sultat de la compilation et de l&#8217;ex√©cution du code de Merkle.</p>
</div>
<div id="merkle_example_run" class="exampleblock data-line-228">
<div class="title">Example 2. Compilation et ex√©cution de l&#8217;exemple de code de Merkle</div>
<div class="content">
<div class="listingblock data-line-230">
<div class="content">
<pre class="highlight"><code class="language-bash" data-lang="bash"># Compiler le code merkle.cpp
$ g++ -o merkle merkle.cpp $(pkg-config --cflags --libs libbitcoin)
# Ex√©cutez l'ex√©cutable merkle
$ ./merkle
Liste de hachage Merkle actuelle¬†:
  32650049a0418e4380db0af81788635d8b65424d397170b8499cdc28c4d27006
  30861db96905c8dc8b99398ca1cd5bd5b84ac3264a4e1b3e65afa1bcee7540c4

Liste de hachage Merkle actuelle¬†:
  d47780c084bad3830bcdaf6eace035e4c6cbf646d103795d22104fb105014ba3

Result: d47780c084bad3830bcdaf6eace035e4c6cbf646d103795d22104fb105014ba3</code></pre>
</div>
</div>
</div>
</div>
<div class="paragraph data-line-247">
<p>L&#8217;efficacit√© des arbres de Merkle devient √©vidente √† mesure que l&#8217;√©chelle augmente. <a href="#block_structure2">Efficacit√© de l&#8217;arbre de Merkle</a> montre la quantit√© de donn√©es qui doit √™tre √©chang√©e sous forme de chemin de Merkle pour prouver qu&#8217;une transaction fait partie d&#8217;un bloc.</p>
</div>
<table id="block_structure2" class="tableblock frame-all grid-all stretch data-line-252">
<caption class="title">Table 3. Efficacit√© de l&#8217;arbre de Merkle</caption>
<colgroup>
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Nombre de transactions</th>
<th class="tableblock halign-left valign-top">Environ. taille du bloc</th>
<th class="tableblock halign-left valign-top">Taille du chemin (hachages)</th>
<th class="tableblock halign-left valign-top">Taille du chemin (octets)</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">16 op√©rations</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">4 kilo-octets</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">4 hachages</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">128 octets</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">512 op√©rations</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">128 kilo-octets</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">9 hachages</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">288 octets</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2048 op√©rations</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">512 kilo-octets</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">11 hachages</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">352 octets</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">65 535 op√©rations</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">16 m√©gaoctets</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">16 hachages</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">512 octets</p></td>
</tr>
</tbody>
</table>
<div class="paragraph data-line-260">
<p>Comme vous pouvez le voir dans le tableau, alors que la taille de bloc augmente rapidement, de 4¬†Ko avec 16¬†transactions √† une taille de bloc de 16¬†Mo pour 65¬†535¬†transactions, le chemin de Merkle requis pour prouver l&#8217;inclusion d&#8217;une transaction augmente beaucoup plus lentement, de 128 octets √† seulement 512 octets. Avec les arbres de Merkle, un n≈ìud peut t√©l√©charger uniquement les en-t√™tes de bloc (80 octets par bloc) et √™tre toujours en mesure d&#8217;identifier l&#8217;inclusion d&#8217;une transaction dans un bloc en r√©cup√©rant un petit chemin Merkle √† partir d&#8217;un n≈ìud complet, sans stocker ni transmettre la grande majorit√© des cha√Ænes de blocs, qui peut avoir une taille de plusieurs gigaoctets. Les n≈ìuds qui ne maintiennent pas une cha√Æne de blocs compl√®te, appel√©s n≈ìuds de v√©rification simplifi√©e des paiements (SPV), utilisent des chemins de Merkle pour v√©rifier les transactions sans t√©l√©charger des blocs complets.</p>
</div>
</div>
<div class="sect2 data-line-262">
<h3 id="_arbres_de_merkle_et_v√©rification_simplifi√©e_des_paiements_spv">Arbres de Merkle et v√©rification simplifi√©e des paiements (SPV)</h3>
<div class="paragraph data-line-264">
<p>Les arbres Merkle sont largement utilis√©s par les n≈ìuds SPV. Les n≈ìuds SPV n&#8217;ont pas toutes les transactions et ne t√©l√©chargent pas les blocs complets, juste les en-t√™tes de bloc. Afin de v√©rifier qu&#8217;une transaction est incluse dans un bloc, sans avoir √† t√©l√©charger toutes les transactions du bloc, ils utilisent un chemin d&#8217;authentification, ou chemin de Merkle.</p>
</div>
<div class="paragraph data-line-266">
<p>Consid√©rons, par exemple, un n≈ìud SPV qui est int√©ress√© par les paiements entrants √† une adresse contenue dans son portefeuille. Le n≈ìud SPV √©tablira un filtre de Bloom (voir <a href="#bloom_filters">[bloom_filters]</a>) sur ses connexions √† des pairs pour limiter les transactions re√ßues uniquement √† celles contenant des adresses d&#8217;int√©r√™t. Lorsqu&#8217;un pair voit une transaction qui correspond au filtre de Bloom, il enverra ce bloc √† l&#8217;aide d&#8217;un message merkleblock. Le message merkleblock contient l&#8217;en-t√™te du bloc ainsi qu&#8217;un chemin de Merkle qui relie la transaction d&#8217;int√©r√™t √† la racine de Merkle dans le bloc. Le n≈ìud SPV peut utiliser ce chemin de Merkle pour connecter la transaction au bloc et v√©rifier que la transaction est incluse dans le bloc. Le n≈ìud SPV utilise √©galement l&#8217;en-t√™te de bloc pour lier le bloc au reste de la cha√Æne de blocs. La combinaison de ces deux liens, entre la transaction et le bloc, et entre le bloc et la cha√Æne de blocs, prouve que la transaction est enregistr√©e dans la cha√Æne de blocs. Au total, le n≈ìud SPV aura re√ßu moins d&#8217;un kilo-octet de donn√©es pour l&#8217;en-t√™te de bloc et le chemin de Merkle, une quantit√© de donn√©es plus de mille fois inf√©rieure √† un bloc complet (environ 1 m√©gaoctet actuellement).</p>
</div>
</div>
<div class="sect2 data-line-268">
<h3 id="_cha√Ænes_de_blocs_de_test_de_bitcoin">Cha√Ænes de blocs de test de Bitcoin</h3>
<div class="paragraph data-line-270">
<p>Vous pourriez √™tre surpris d&#8217;apprendre qu&#8217;il existe plus d&#8217;une cha√Æne de blocs Bitcoin. La cha√Æne de blocs Bitcoin &quot;principale&quot;, celle cr√©√©e par Satoshi Nakamoto le 3 janvier 2009, celle avec le bloc de gen√®se que nous avons √©tudi√© dans ce chapitre, s&#8217;appelle <em>mainnet</em>. Il existe d&#8217;autres cha√Ænes de blocs Bitcoin qui sont utilis√©es √† des fins de test¬†: actuellement <em>testnet</em>, <em>segnet</em> et <em>regtest</em>. Regardons chacun √† son tour.</p>
</div>
<div class="sect3 data-line-273">
<h4 id="_testnet_le_terrain_de_test_de_bitcoin">Testnet : Le terrain de test de Bitcoin</h4>
<div class="paragraph data-line-275">
<p>Testnet est le nom de la cha√Æne de blocs, du r√©seau et de la devise de test utilis√©s √† des fins de test. Le testnet est un r√©seau P2P en direct complet, avec des portefeuilles, des bitcoins de test (pi√®ces de testnet), l&#8217;exploitation mini√®re et toutes les autres fonctionnalit√©s du r√©seau principal. Il n&#8217;y a vraiment que deux diff√©rences : les pi√®ces testnet sont cens√©es √™tre sans valeur et la difficult√© d&#8217;extraction doit √™tre suffisamment faible pour que n&#8217;importe qui puisse extraire des pi√®ces testnet relativement facilement (en les gardant sans valeur).</p>
</div>
<div class="paragraph data-line-277">
<p>Tout d√©veloppement logiciel destin√© √† une utilisation en production sur le r√©seau principal de Bitcoin doit d&#8217;abord √™tre test√© sur testnet avec des pi√®ces de test. Cela prot√®ge √† la fois les d√©veloppeurs des pertes financi√®res dues aux bogues et le r√©seau des comportements involontaires dus aux bogues.</p>
</div>
<div class="paragraph data-line-279">
<p>Garder les pi√®ces sans valeur et l&#8217;exploitation mini√®re facile, cependant, n&#8217;est pas facile. Malgr√© les appels des d√©veloppeurs, certaines personnes utilisent des √©quipements de minage avanc√©s (GPU et ASIC) pour miner sur testnet. Cela augmente la difficult√©, rend impossible l&#8217;extraction avec un processeur et rend finalement assez difficile l&#8217;obtention de pi√®ces de test pour que les gens commencent √† les √©valuer, de sorte qu&#8217;elles ne sont pas sans valeur. En cons√©quence, de temps en temps, le testnet doit √™tre supprim√© et red√©marr√© √† partir d&#8217;un nouveau bloc de gen√®se, r√©initialisant la difficult√©.</p>
</div>
<div class="paragraph data-line-281">
<p>Le testnet actuel s&#8217;appelle <em>testnet3</em>, la troisi√®me it√©ration de testnet, red√©marr√© en f√©vrier 2011 pour r√©initialiser la difficult√© du testnet pr√©c√©dent.</p>
</div>
<div class="paragraph data-line-283">
<p>Gardez √† l&#8217;esprit que testnet3 est une grande cha√Æne de blocs, d√©passant 25 Go en 2021. Il faudra environ un jour pour se synchroniser compl√®tement et utiliser les ressources de votre ordinateur. Pas autant que le r√©seau principal, mais pas exactement &quot;l√©ger&quot; non plus. Une bonne fa√ßon d&#8217;ex√©cuter un n≈ìud testnet est d&#8217;utiliser une image de machine virtuelle (par exemple, VirtualBox, Docker, Cloud Server, etc.) d√©di√©e √† cet effet.</p>
</div>
<div class="sect4 data-line-285">
<h5 id="_utiliser_testnet">Utiliser testnet</h5>
<div class="paragraph data-line-287">
<p>Bitcoin Core, comme presque tous les autres logiciels bitcoin, prend enti√®rement en charge le fonctionnement sur testnet au lieu du r√©seau principal. Toutes les fonctions de Bitcoin Core fonctionnent sur testnet, y compris le portefeuille, l&#8217;extraction de pi√®ces testnet et la synchronisation d&#8217;un n≈ìud testnet complet.</p>
</div>
<div class="paragraph data-line-289">
<p>Pour d√©marrer Bitcoin Core sur testnet au lieu du r√©seau principal, vous utilisez le commutateur testnet¬†:</p>
</div>
<div class="listingblock data-line-291">
<div class="content">
<pre>$ bitcoind -testnet</pre>
</div>
</div>
<div class="paragraph data-line-295">
<p>Dans les journaux, vous devriez voir que bitcoind construit une nouvelle cha√Æne de blocs dans le sous-r√©pertoire testnet3 du r√©pertoire bitcoind par d√©faut¬†:</p>
</div>
<div class="listingblock data-line-297">
<div class="content">
<pre>bitcoind : Utilisation du r√©pertoire de donn√©es /home/username/.bitcoin/testnet3</pre>
</div>
</div>
<div class="paragraph data-line-301">
<p>Pour vous connecter √† bitcoind, vous utilisez l&#8217;outil de ligne de commande bitcoin-cli, mais vous devez √©galement le passer en mode testnet¬†:</p>
</div>
<div class="listingblock data-line-303">
<div class="content">
<pre>$ bitcoin-cli -testnet getblockchaininfo
{
  "chain": "test",
  "blocks": 1088,
  "headers": 139999,
  "bestblockhash": "0000000063d29909d475a1c4ba26da64b368e56cce5d925097bf3a2084370128",
  "difficulty": 1,
  "mediantime": 1337966158,
  "verificationprogress": 0.001644065914099759,
  "chainwork": "0000000000000000000000000000000000000000000000000000044104410441",
  "pruned": false,
  "softforks": [

  [...]</pre>
</div>
</div>
<div class="paragraph data-line-320">
<p>Vous pouvez √©galement ex√©cuter sur testnet3 avec d&#8217;autres impl√©mentations de n≈ìud complet, telles que btcd (√©crit en Go) et bcoin (√©crit en JavaScript), pour exp√©rimenter et apprendre dans d&#8217;autres langages et environnements de programmation.</p>
</div>
<div class="paragraph data-line-322">
<p>En 2021, testnet3 prend en charge toutes les fonctionnalit√©s du r√©seau principal, y compris le t√©moin s√©par√© (voir <a href="#segwit">[segwit]</a>). Par cons√©quent, testnet3 peut √©galement √™tre utilis√© pour tester les fonctionnalit√©s de t√©moin s√©par√©.</p>
</div>
</div>
</div>
<div class="sect3 data-line-324">
<h4 id="_segnet_le_r√©seau_de_test_des_t√©moins_s√©par√©s">Segnet : Le r√©seau de test des t√©moins s√©par√©s</h4>
<div class="paragraph data-line-327">
<p>En 2016, un testnet √† usage sp√©cial a √©t√© lanc√© pour aider au d√©veloppement et aux tests de Segregated Witness ou T√©moin s√©par√© (alias segwit; voir <a href="#segwit">[segwit]</a>). Cette cha√Æne de blocs de test s&#8217;appelle segnet et peut √™tre rejointe en ex√©cutant une version sp√©ciale (branche) de Bitcoin Core.</p>
</div>
<div class="paragraph data-line-329">
<p>Depuis que segwit a √©t√© ajout√© √† testnet3, il n&#8217;est plus n√©cessaire d&#8217;utiliser segnet pour tester les fonctionnalit√©s de segwit.</p>
</div>
<div class="paragraph data-line-331">
<p>√Ä l&#8217;avenir, il est probable que nous verrons d&#8217;autres cha√Ænes de blocs testnet sp√©cialement con√ßues pour tester une seule fonctionnalit√© ou un changement architectural majeur, comme segnet.</p>
</div>
</div>
<div class="sect3 data-line-333">
<h4 id="_regtest_la_cha√Æne_de_blocs_locale">Regtest : La cha√Æne de blocs locale</h4>
<div class="paragraph data-line-335">
<p>Regtest, qui signifie &quot;Regression Testing&quot;, (ou tests de r√©gressions) est une fonctionnalit√© de Bitcoin Core qui vous permet de cr√©er une cha√Æne de blocs locale √† des fins de test. Contrairement √† testnet3, qui est une cha√Æne de blocs de test publique et partag√©e, les cha√Ænes de blocs regtest sont destin√©es √† √™tre ex√©cut√©es comme des syst√®mes ferm√©s pour les tests locaux. Vous lancez une cha√Æne de blocs regtest √† partir de z√©ro, en cr√©ant un bloc de gen√®se local. Vous pouvez ajouter d&#8217;autres n≈ìuds au r√©seau ou l&#8217;ex√©cuter avec un seul n≈ìud uniquement pour tester le logiciel Bitcoin Core.</p>
</div>
<div class="paragraph data-line-337">
<p>Pour d√©marrer Bitcoin Core en mode regtest, vous utilisez le drapeau regtest¬†:</p>
</div>
<div class="listingblock data-line-339">
<div class="content">
<pre>$ bitcoind -regtest</pre>
</div>
</div>
<div class="paragraph data-line-343">
<p>Tout comme avec testnet, Bitcoin Core initialisera une nouvelle cha√Æne de blocs sous le sous-r√©pertoire <em>regtest</em> de votre r√©pertoire par d√©faut bitcoind :</p>
</div>
<div class="listingblock data-line-345">
<div class="content">
<pre>bitcoind: Using data directory /home/username/.bitcoin/regtest</pre>
</div>
</div>
<div class="paragraph data-line-349">
<p>Pour utiliser l&#8217;outil de ligne de commande, vous devez √©galement sp√©cifier l&#8217;indicateur regtest. Essayons la commande getblockchaininfo pour inspecter la cha√Æne de blocs regtest¬†:</p>
</div>
<div class="listingblock data-line-351">
<div class="content">
<pre>$ bitcoin-cli -regtest getblockchaininfo
{
  "chain": "regtest",
  "blocks": 0,
  "headers": 0,
  "bestblockhash": "0f9188f13cb7b2c71f2a335e3a4fc328bf5beb436012afca590b1a11466e2206",
  "difficulty": 4.656542373906925e-10,
  "mediantime": 1296688602,
  "verificationprogress": 1,
  "chainwork": "0000000000000000000000000000000000000000000000000000000000000002",
  "pruned": false,
  [...]</pre>
</div>
</div>
<div class="paragraph data-line-366">
<p>Comme vous pouvez le voir, il n&#8217;y a pas encore de blocs. Exploitons-en quelques-uns (500 blocs) et gagnons la r√©compense¬†:</p>
</div>
<div class="listingblock data-line-368">
<div class="content">
<pre>$ bitcoin-cli -regtest generate 500
[
  "7afed70259f22c2bf11e406cb12ed5c0657b6e16a6477a9f8b28e2046b5ba1ca",
  "1aca2f154a80a9863a9aac4c72047a6d3f385c4eec5441a4aafa6acaa1dada14",
  "4334ecf6fb022f30fbd764c3ee778fabbd53b4a4d1950eae8a91f1f5158ed2d1",
  "5f951d34065efeaf64e54e91d00b260294fcdfc7f05dbb5599aec84b957a7766",
  "43744b5e77c1dfece9d05ab5f0e6796ebe627303163547e69e27f55d0f2b9353",
   [...]
  "6c31585a48d4fc2b3fd25521f4515b18aefb59d0def82bd9c2185c4ecb754327"
]</pre>
</div>
</div>
<div class="paragraph data-line-381">
<p>Cela ne prendra que quelques secondes pour miner tous ces blocs, ce qui facilite certainement les tests. Si vous v√©rifiez le solde de votre portefeuille, vous verrez que vous avez gagn√© une r√©compense pour les 400 premiers blocs (les r√©compenses coinbase doivent avoir une profondeur de 100 blocs avant que vous puissiez les d√©penser) :</p>
</div>
<div class="listingblock data-line-383">
<div class="content">
<pre>$ bitcoin-cli -regtest getbalance
12462.50000000</pre>
</div>
</div>
</div>
</div>
<div class="sect2 data-line-388">
<h3 id="_utiliser_des_cha√Ænes_de_blocs_de_test_pour_le_d√©veloppement">Utiliser des cha√Ænes de blocs de test pour le d√©veloppement</h3>
<div class="paragraph data-line-390">
<p>Les diff√©rentes cha√Ænes de blocs de Bitcoin (regtest, segnet, testnet3, mainnet) offrent une gamme d&#8217;environnements de test pour le d√©veloppement de bitcoin. Utilisez les cha√Ænes de blocs de test, que vous d√©veloppiez pour Bitcoin Core ou un autre client de consensus √† n≈ìud complet¬†; une application telle qu&#8217;un portefeuille, un √©change, un site de commerce √©lectronique¬†; ou m√™me d√©velopper de nouveaux contrats intelligents et des scripts complexes.</p>
</div>
<div class="paragraph data-line-392">
<p>Vous pouvez utiliser les cha√Ænes de blocs de test pour √©tablir un pipeline de d√©veloppement. Testez votre code localement sur un regtest au fur et √† mesure que vous le d√©veloppez. Une fois que vous √™tes pr√™t √† l&#8217;essayer sur un r√©seau public, passez √† testnet pour exposer votre code √† un environnement plus dynamique avec plus de diversit√© de code et d&#8217;applications. Enfin, une fois que vous √™tes s√ªr que votre code fonctionne comme pr√©vu, passez √† mainnet pour le d√©ployer en production. Au fur et √† mesure que vous apportez des modifications, des am√©liorations, des corrections de bogues, etc., red√©marrez le pipeline, en d√©ployant d&#8217;abord chaque modification sur regtest, puis sur testnet, et enfin en production.</p>
</div>
</div>
</div>
</div>
</div>
<div id="footer">
<div id="footer-text">
Last updated 2022-03-22 06:27:41 -0400
</div>
</div>
</body>
</html>