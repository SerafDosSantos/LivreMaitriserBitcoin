<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="generator" content="Asciidoctor 2.0.17">
<title>Le r√©seau Bitcoin</title>
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:300,300italic,400,400italic,600,600italic%7CNoto+Serif:400,400italic,700,700italic%7CDroid+Sans+Mono:400,700">
<style>
/*! Asciidoctor default stylesheet | MIT License | https://asciidoctor.org */
/* Uncomment the following line when using as a custom stylesheet */
/* @import "https://fonts.googleapis.com/css?family=Open+Sans:300,300italic,400,400italic,600,600italic%7CNoto+Serif:400,400italic,700,700italic%7CDroid+Sans+Mono:400,700"; */
html{font-family:sans-serif;-webkit-text-size-adjust:100%}
a{background:none}
a:focus{outline:thin dotted}
a:active,a:hover{outline:0}
h1{font-size:2em;margin:.67em 0}
b,strong{font-weight:bold}
abbr{font-size:.9em}
abbr[title]{cursor:help;border-bottom:1px dotted #dddddf;text-decoration:none}
dfn{font-style:italic}
hr{height:0}
mark{background:#ff0;color:#000}
code,kbd,pre,samp{font-family:monospace;font-size:1em}
pre{white-space:pre-wrap}
q{quotes:"\201C" "\201D" "\2018" "\2019"}
small{font-size:80%}
sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}
sup{top:-.5em}
sub{bottom:-.25em}
img{border:0}
svg:not(:root){overflow:hidden}
figure{margin:0}
audio,video{display:inline-block}
audio:not([controls]){display:none;height:0}
fieldset{border:1px solid silver;margin:0 2px;padding:.35em .625em .75em}
legend{border:0;padding:0}
button,input,select,textarea{font-family:inherit;font-size:100%;margin:0}
button,input{line-height:normal}
button,select{text-transform:none}
button,html input[type=button],input[type=reset],input[type=submit]{-webkit-appearance:button;cursor:pointer}
button[disabled],html input[disabled]{cursor:default}
input[type=checkbox],input[type=radio]{padding:0}
button::-moz-focus-inner,input::-moz-focus-inner{border:0;padding:0}
textarea{overflow:auto;vertical-align:top}
table{border-collapse:collapse;border-spacing:0}
*,::before,::after{box-sizing:border-box}
html,body{font-size:100%}
body{background:#fff;color:rgba(0,0,0,.8);padding:0;margin:0;font-family:"Noto Serif","DejaVu Serif",serif;line-height:1;position:relative;cursor:auto;-moz-tab-size:4;-o-tab-size:4;tab-size:4;word-wrap:anywhere;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased}
a:hover{cursor:pointer}
img,object,embed{max-width:100%;height:auto}
object,embed{height:100%}
img{-ms-interpolation-mode:bicubic}
.left{float:left!important}
.right{float:right!important}
.text-left{text-align:left!important}
.text-right{text-align:right!important}
.text-center{text-align:center!important}
.text-justify{text-align:justify!important}
.hide{display:none}
img,object,svg{display:inline-block;vertical-align:middle}
textarea{height:auto;min-height:50px}
select{width:100%}
.subheader,.admonitionblock td.content>.title,.audioblock>.title,.exampleblock>.title,.imageblock>.title,.listingblock>.title,.literalblock>.title,.stemblock>.title,.openblock>.title,.paragraph>.title,.quoteblock>.title,table.tableblock>.title,.verseblock>.title,.videoblock>.title,.dlist>.title,.olist>.title,.ulist>.title,.qlist>.title,.hdlist>.title{line-height:1.45;color:#7a2518;font-weight:400;margin-top:0;margin-bottom:.25em}
div,dl,dt,dd,ul,ol,li,h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6,pre,form,p,blockquote,th,td{margin:0;padding:0}
a{color:#2156a5;text-decoration:underline;line-height:inherit}
a:hover,a:focus{color:#1d4b8f}
a img{border:0}
p{line-height:1.6;margin-bottom:1.25em;text-rendering:optimizeLegibility}
p aside{font-size:.875em;line-height:1.35;font-style:italic}
h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{font-family:"Open Sans","DejaVu Sans",sans-serif;font-weight:300;font-style:normal;color:#ba3925;text-rendering:optimizeLegibility;margin-top:1em;margin-bottom:.5em;line-height:1.0125em}
h1 small,h2 small,h3 small,#toctitle small,.sidebarblock>.content>.title small,h4 small,h5 small,h6 small{font-size:60%;color:#e99b8f;line-height:0}
h1{font-size:2.125em}
h2{font-size:1.6875em}
h3,#toctitle,.sidebarblock>.content>.title{font-size:1.375em}
h4,h5{font-size:1.125em}
h6{font-size:1em}
hr{border:solid #dddddf;border-width:1px 0 0;clear:both;margin:1.25em 0 1.1875em}
em,i{font-style:italic;line-height:inherit}
strong,b{font-weight:bold;line-height:inherit}
small{font-size:60%;line-height:inherit}
code{font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;font-weight:400;color:rgba(0,0,0,.9)}
ul,ol,dl{line-height:1.6;margin-bottom:1.25em;list-style-position:outside;font-family:inherit}
ul,ol{margin-left:1.5em}
ul li ul,ul li ol{margin-left:1.25em;margin-bottom:0}
ul.square li ul,ul.circle li ul,ul.disc li ul{list-style:inherit}
ul.square{list-style-type:square}
ul.circle{list-style-type:circle}
ul.disc{list-style-type:disc}
ol li ul,ol li ol{margin-left:1.25em;margin-bottom:0}
dl dt{margin-bottom:.3125em;font-weight:bold}
dl dd{margin-bottom:1.25em}
blockquote{margin:0 0 1.25em;padding:.5625em 1.25em 0 1.1875em;border-left:1px solid #ddd}
blockquote,blockquote p{line-height:1.6;color:rgba(0,0,0,.85)}
@media screen and (min-width:768px){h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{line-height:1.2}
h1{font-size:2.75em}
h2{font-size:2.3125em}
h3,#toctitle,.sidebarblock>.content>.title{font-size:1.6875em}
h4{font-size:1.4375em}}
table{background:#fff;margin-bottom:1.25em;border:1px solid #dedede;word-wrap:normal}
table thead,table tfoot{background:#f7f8f7}
table thead tr th,table thead tr td,table tfoot tr th,table tfoot tr td{padding:.5em .625em .625em;font-size:inherit;color:rgba(0,0,0,.8);text-align:left}
table tr th,table tr td{padding:.5625em .625em;font-size:inherit;color:rgba(0,0,0,.8)}
table tr.even,table tr.alt{background:#f8f8f7}
table thead tr th,table tfoot tr th,table tbody tr td,table tr td,table tfoot tr td{line-height:1.6}
h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{line-height:1.2;word-spacing:-.05em}
h1 strong,h2 strong,h3 strong,#toctitle strong,.sidebarblock>.content>.title strong,h4 strong,h5 strong,h6 strong{font-weight:400}
.center{margin-left:auto;margin-right:auto}
.stretch{width:100%}
.clearfix::before,.clearfix::after,.float-group::before,.float-group::after{content:" ";display:table}
.clearfix::after,.float-group::after{clear:both}
:not(pre).nobreak{word-wrap:normal}
:not(pre).nowrap{white-space:nowrap}
:not(pre).pre-wrap{white-space:pre-wrap}
:not(pre):not([class^=L])>code{font-size:.9375em;font-style:normal!important;letter-spacing:0;padding:.1em .5ex;word-spacing:-.15em;background:#f7f7f8;border-radius:4px;line-height:1.45;text-rendering:optimizeSpeed}
pre{color:rgba(0,0,0,.9);font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;line-height:1.45;text-rendering:optimizeSpeed}
pre code,pre pre{color:inherit;font-size:inherit;line-height:inherit}
pre>code{display:block}
pre.nowrap,pre.nowrap pre{white-space:pre;word-wrap:normal}
em em{font-style:normal}
strong strong{font-weight:400}
.keyseq{color:rgba(51,51,51,.8)}
kbd{font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;display:inline-block;color:rgba(0,0,0,.8);font-size:.65em;line-height:1.45;background:#f7f7f7;border:1px solid #ccc;border-radius:3px;box-shadow:0 1px 0 rgba(0,0,0,.2),inset 0 0 0 .1em #fff;margin:0 .15em;padding:.2em .5em;vertical-align:middle;position:relative;top:-.1em;white-space:nowrap}
.keyseq kbd:first-child{margin-left:0}
.keyseq kbd:last-child{margin-right:0}
.menuseq,.menuref{color:#000}
.menuseq b:not(.caret),.menuref{font-weight:inherit}
.menuseq{word-spacing:-.02em}
.menuseq b.caret{font-size:1.25em;line-height:.8}
.menuseq i.caret{font-weight:bold;text-align:center;width:.45em}
b.button::before,b.button::after{position:relative;top:-1px;font-weight:400}
b.button::before{content:"[";padding:0 3px 0 2px}
b.button::after{content:"]";padding:0 2px 0 3px}
p a>code:hover{color:rgba(0,0,0,.9)}
#header,#content,#footnotes,#footer{width:100%;margin:0 auto;max-width:62.5em;*zoom:1;position:relative;padding-left:.9375em;padding-right:.9375em}
#header::before,#header::after,#content::before,#content::after,#footnotes::before,#footnotes::after,#footer::before,#footer::after{content:" ";display:table}
#header::after,#content::after,#footnotes::after,#footer::after{clear:both}
#content{margin-top:1.25em}
#content::before{content:none}
#header>h1:first-child{color:rgba(0,0,0,.85);margin-top:2.25rem;margin-bottom:0}
#header>h1:first-child+#toc{margin-top:8px;border-top:1px solid #dddddf}
#header>h1:only-child,body.toc2 #header>h1:nth-last-child(2){border-bottom:1px solid #dddddf;padding-bottom:8px}
#header .details{border-bottom:1px solid #dddddf;line-height:1.45;padding-top:.25em;padding-bottom:.25em;padding-left:.25em;color:rgba(0,0,0,.6);display:flex;flex-flow:row wrap}
#header .details span:first-child{margin-left:-.125em}
#header .details span.email a{color:rgba(0,0,0,.85)}
#header .details br{display:none}
#header .details br+span::before{content:"\00a0\2013\00a0"}
#header .details br+span.author::before{content:"\00a0\22c5\00a0";color:rgba(0,0,0,.85)}
#header .details br+span#revremark::before{content:"\00a0|\00a0"}
#header #revnumber{text-transform:capitalize}
#header #revnumber::after{content:"\00a0"}
#content>h1:first-child:not([class]){color:rgba(0,0,0,.85);border-bottom:1px solid #dddddf;padding-bottom:8px;margin-top:0;padding-top:1rem;margin-bottom:1.25rem}
#toc{border-bottom:1px solid #e7e7e9;padding-bottom:.5em}
#toc>ul{margin-left:.125em}
#toc ul.sectlevel0>li>a{font-style:italic}
#toc ul.sectlevel0 ul.sectlevel1{margin:.5em 0}
#toc ul{font-family:"Open Sans","DejaVu Sans",sans-serif;list-style-type:none}
#toc li{line-height:1.3334;margin-top:.3334em}
#toc a{text-decoration:none}
#toc a:active{text-decoration:underline}
#toctitle{color:#7a2518;font-size:1.2em}
@media screen and (min-width:768px){#toctitle{font-size:1.375em}
body.toc2{padding-left:15em;padding-right:0}
#toc.toc2{margin-top:0!important;background:#f8f8f7;position:fixed;width:15em;left:0;top:0;border-right:1px solid #e7e7e9;border-top-width:0!important;border-bottom-width:0!important;z-index:1000;padding:1.25em 1em;height:100%;overflow:auto}
#toc.toc2 #toctitle{margin-top:0;margin-bottom:.8rem;font-size:1.2em}
#toc.toc2>ul{font-size:.9em;margin-bottom:0}
#toc.toc2 ul ul{margin-left:0;padding-left:1em}
#toc.toc2 ul.sectlevel0 ul.sectlevel1{padding-left:0;margin-top:.5em;margin-bottom:.5em}
body.toc2.toc-right{padding-left:0;padding-right:15em}
body.toc2.toc-right #toc.toc2{border-right-width:0;border-left:1px solid #e7e7e9;left:auto;right:0}}
@media screen and (min-width:1280px){body.toc2{padding-left:20em;padding-right:0}
#toc.toc2{width:20em}
#toc.toc2 #toctitle{font-size:1.375em}
#toc.toc2>ul{font-size:.95em}
#toc.toc2 ul ul{padding-left:1.25em}
body.toc2.toc-right{padding-left:0;padding-right:20em}}
#content #toc{border:1px solid #e0e0dc;margin-bottom:1.25em;padding:1.25em;background:#f8f8f7;border-radius:4px}
#content #toc>:first-child{margin-top:0}
#content #toc>:last-child{margin-bottom:0}
#footer{max-width:none;background:rgba(0,0,0,.8);padding:1.25em}
#footer-text{color:hsla(0,0%,100%,.8);line-height:1.44}
#content{margin-bottom:.625em}
.sect1{padding-bottom:.625em}
@media screen and (min-width:768px){#content{margin-bottom:1.25em}
.sect1{padding-bottom:1.25em}}
.sect1:last-child{padding-bottom:0}
.sect1+.sect1{border-top:1px solid #e7e7e9}
#content h1>a.anchor,h2>a.anchor,h3>a.anchor,#toctitle>a.anchor,.sidebarblock>.content>.title>a.anchor,h4>a.anchor,h5>a.anchor,h6>a.anchor{position:absolute;z-index:1001;width:1.5ex;margin-left:-1.5ex;display:block;text-decoration:none!important;visibility:hidden;text-align:center;font-weight:400}
#content h1>a.anchor::before,h2>a.anchor::before,h3>a.anchor::before,#toctitle>a.anchor::before,.sidebarblock>.content>.title>a.anchor::before,h4>a.anchor::before,h5>a.anchor::before,h6>a.anchor::before{content:"\00A7";font-size:.85em;display:block;padding-top:.1em}
#content h1:hover>a.anchor,#content h1>a.anchor:hover,h2:hover>a.anchor,h2>a.anchor:hover,h3:hover>a.anchor,#toctitle:hover>a.anchor,.sidebarblock>.content>.title:hover>a.anchor,h3>a.anchor:hover,#toctitle>a.anchor:hover,.sidebarblock>.content>.title>a.anchor:hover,h4:hover>a.anchor,h4>a.anchor:hover,h5:hover>a.anchor,h5>a.anchor:hover,h6:hover>a.anchor,h6>a.anchor:hover{visibility:visible}
#content h1>a.link,h2>a.link,h3>a.link,#toctitle>a.link,.sidebarblock>.content>.title>a.link,h4>a.link,h5>a.link,h6>a.link{color:#ba3925;text-decoration:none}
#content h1>a.link:hover,h2>a.link:hover,h3>a.link:hover,#toctitle>a.link:hover,.sidebarblock>.content>.title>a.link:hover,h4>a.link:hover,h5>a.link:hover,h6>a.link:hover{color:#a53221}
details,.audioblock,.imageblock,.literalblock,.listingblock,.stemblock,.videoblock{margin-bottom:1.25em}
details{margin-left:1.25rem}
details>summary{cursor:pointer;display:block;position:relative;line-height:1.6;margin-bottom:.625rem;outline:none;-webkit-tap-highlight-color:transparent}
details>summary::-webkit-details-marker{display:none}
details>summary::before{content:"";border:solid transparent;border-left:solid;border-width:.3em 0 .3em .5em;position:absolute;top:.5em;left:-1.25rem;transform:translateX(15%)}
details[open]>summary::before{border:solid transparent;border-top:solid;border-width:.5em .3em 0;transform:translateY(15%)}
details>summary::after{content:"";width:1.25rem;height:1em;position:absolute;top:.3em;left:-1.25rem}
.admonitionblock td.content>.title,.audioblock>.title,.exampleblock>.title,.imageblock>.title,.listingblock>.title,.literalblock>.title,.stemblock>.title,.openblock>.title,.paragraph>.title,.quoteblock>.title,table.tableblock>.title,.verseblock>.title,.videoblock>.title,.dlist>.title,.olist>.title,.ulist>.title,.qlist>.title,.hdlist>.title{text-rendering:optimizeLegibility;text-align:left;font-family:"Noto Serif","DejaVu Serif",serif;font-size:1rem;font-style:italic}
table.tableblock.fit-content>caption.title{white-space:nowrap;width:0}
.paragraph.lead>p,#preamble>.sectionbody>[class=paragraph]:first-of-type p{font-size:1.21875em;line-height:1.6;color:rgba(0,0,0,.85)}
.admonitionblock>table{border-collapse:separate;border:0;background:none;width:100%}
.admonitionblock>table td.icon{text-align:center;width:80px}
.admonitionblock>table td.icon img{max-width:none}
.admonitionblock>table td.icon .title{font-weight:bold;font-family:"Open Sans","DejaVu Sans",sans-serif;text-transform:uppercase}
.admonitionblock>table td.content{padding-left:1.125em;padding-right:1.25em;border-left:1px solid #dddddf;color:rgba(0,0,0,.6);word-wrap:anywhere}
.admonitionblock>table td.content>:last-child>:last-child{margin-bottom:0}
.exampleblock>.content{border:1px solid #e6e6e6;margin-bottom:1.25em;padding:1.25em;background:#fff;border-radius:4px}
.exampleblock>.content>:first-child{margin-top:0}
.exampleblock>.content>:last-child{margin-bottom:0}
.sidebarblock{border:1px solid #dbdbd6;margin-bottom:1.25em;padding:1.25em;background:#f3f3f2;border-radius:4px}
.sidebarblock>:first-child{margin-top:0}
.sidebarblock>:last-child{margin-bottom:0}
.sidebarblock>.content>.title{color:#7a2518;margin-top:0;text-align:center}
.exampleblock>.content>:last-child>:last-child,.exampleblock>.content .olist>ol>li:last-child>:last-child,.exampleblock>.content .ulist>ul>li:last-child>:last-child,.exampleblock>.content .qlist>ol>li:last-child>:last-child,.sidebarblock>.content>:last-child>:last-child,.sidebarblock>.content .olist>ol>li:last-child>:last-child,.sidebarblock>.content .ulist>ul>li:last-child>:last-child,.sidebarblock>.content .qlist>ol>li:last-child>:last-child{margin-bottom:0}
.literalblock pre,.listingblock>.content>pre{border-radius:4px;overflow-x:auto;padding:1em;font-size:.8125em}
@media screen and (min-width:768px){.literalblock pre,.listingblock>.content>pre{font-size:.90625em}}
@media screen and (min-width:1280px){.literalblock pre,.listingblock>.content>pre{font-size:1em}}
.literalblock pre,.listingblock>.content>pre:not(.highlight),.listingblock>.content>pre[class=highlight],.listingblock>.content>pre[class^="highlight "]{background:#f7f7f8}
.literalblock.output pre{color:#f7f7f8;background:rgba(0,0,0,.9)}
.listingblock>.content{position:relative}
.listingblock code[data-lang]::before{display:none;content:attr(data-lang);position:absolute;font-size:.75em;top:.425rem;right:.5rem;line-height:1;text-transform:uppercase;color:inherit;opacity:.5}
.listingblock:hover code[data-lang]::before{display:block}
.listingblock.terminal pre .command::before{content:attr(data-prompt);padding-right:.5em;color:inherit;opacity:.5}
.listingblock.terminal pre .command:not([data-prompt])::before{content:"$"}
.listingblock pre.highlightjs{padding:0}
.listingblock pre.highlightjs>code{padding:1em;border-radius:4px}
.listingblock pre.prettyprint{border-width:0}
.prettyprint{background:#f7f7f8}
pre.prettyprint .linenums{line-height:1.45;margin-left:2em}
pre.prettyprint li{background:none;list-style-type:inherit;padding-left:0}
pre.prettyprint li code[data-lang]::before{opacity:1}
pre.prettyprint li:not(:first-child) code[data-lang]::before{display:none}
table.linenotable{border-collapse:separate;border:0;margin-bottom:0;background:none}
table.linenotable td[class]{color:inherit;vertical-align:top;padding:0;line-height:inherit;white-space:normal}
table.linenotable td.code{padding-left:.75em}
table.linenotable td.linenos,pre.pygments .linenos{border-right:1px solid;opacity:.35;padding-right:.5em;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}
pre.pygments span.linenos{display:inline-block;margin-right:.75em}
.quoteblock{margin:0 1em 1.25em 1.5em;display:table}
.quoteblock:not(.excerpt)>.title{margin-left:-1.5em;margin-bottom:.75em}
.quoteblock blockquote,.quoteblock p{color:rgba(0,0,0,.85);font-size:1.15rem;line-height:1.75;word-spacing:.1em;letter-spacing:0;font-style:italic;text-align:justify}
.quoteblock blockquote{margin:0;padding:0;border:0}
.quoteblock blockquote::before{content:"\201c";float:left;font-size:2.75em;font-weight:bold;line-height:.6em;margin-left:-.6em;color:#7a2518;text-shadow:0 1px 2px rgba(0,0,0,.1)}
.quoteblock blockquote>.paragraph:last-child p{margin-bottom:0}
.quoteblock .attribution{margin-top:.75em;margin-right:.5ex;text-align:right}
.verseblock{margin:0 1em 1.25em}
.verseblock pre{font-family:"Open Sans","DejaVu Sans",sans-serif;font-size:1.15rem;color:rgba(0,0,0,.85);font-weight:300;text-rendering:optimizeLegibility}
.verseblock pre strong{font-weight:400}
.verseblock .attribution{margin-top:1.25rem;margin-left:.5ex}
.quoteblock .attribution,.verseblock .attribution{font-size:.9375em;line-height:1.45;font-style:italic}
.quoteblock .attribution br,.verseblock .attribution br{display:none}
.quoteblock .attribution cite,.verseblock .attribution cite{display:block;letter-spacing:-.025em;color:rgba(0,0,0,.6)}
.quoteblock.abstract blockquote::before,.quoteblock.excerpt blockquote::before,.quoteblock .quoteblock blockquote::before{display:none}
.quoteblock.abstract blockquote,.quoteblock.abstract p,.quoteblock.excerpt blockquote,.quoteblock.excerpt p,.quoteblock .quoteblock blockquote,.quoteblock .quoteblock p{line-height:1.6;word-spacing:0}
.quoteblock.abstract{margin:0 1em 1.25em;display:block}
.quoteblock.abstract>.title{margin:0 0 .375em;font-size:1.15em;text-align:center}
.quoteblock.excerpt>blockquote,.quoteblock .quoteblock{padding:0 0 .25em 1em;border-left:.25em solid #dddddf}
.quoteblock.excerpt,.quoteblock .quoteblock{margin-left:0}
.quoteblock.excerpt blockquote,.quoteblock.excerpt p,.quoteblock .quoteblock blockquote,.quoteblock .quoteblock p{color:inherit;font-size:1.0625rem}
.quoteblock.excerpt .attribution,.quoteblock .quoteblock .attribution{color:inherit;font-size:.85rem;text-align:left;margin-right:0}
p.tableblock:last-child{margin-bottom:0}
td.tableblock>.content{margin-bottom:1.25em;word-wrap:anywhere}
td.tableblock>.content>:last-child{margin-bottom:-1.25em}
table.tableblock,th.tableblock,td.tableblock{border:0 solid #dedede}
table.grid-all>*>tr>*{border-width:1px}
table.grid-cols>*>tr>*{border-width:0 1px}
table.grid-rows>*>tr>*{border-width:1px 0}
table.frame-all{border-width:1px}
table.frame-ends{border-width:1px 0}
table.frame-sides{border-width:0 1px}
table.frame-none>colgroup+*>:first-child>*,table.frame-sides>colgroup+*>:first-child>*{border-top-width:0}
table.frame-none>:last-child>:last-child>*,table.frame-sides>:last-child>:last-child>*{border-bottom-width:0}
table.frame-none>*>tr>:first-child,table.frame-ends>*>tr>:first-child{border-left-width:0}
table.frame-none>*>tr>:last-child,table.frame-ends>*>tr>:last-child{border-right-width:0}
table.stripes-all>*>tr,table.stripes-odd>*>tr:nth-of-type(odd),table.stripes-even>*>tr:nth-of-type(even),table.stripes-hover>*>tr:hover{background:#f8f8f7}
th.halign-left,td.halign-left{text-align:left}
th.halign-right,td.halign-right{text-align:right}
th.halign-center,td.halign-center{text-align:center}
th.valign-top,td.valign-top{vertical-align:top}
th.valign-bottom,td.valign-bottom{vertical-align:bottom}
th.valign-middle,td.valign-middle{vertical-align:middle}
table thead th,table tfoot th{font-weight:bold}
tbody tr th{background:#f7f8f7}
tbody tr th,tbody tr th p,tfoot tr th,tfoot tr th p{color:rgba(0,0,0,.8);font-weight:bold}
p.tableblock>code:only-child{background:none;padding:0}
p.tableblock{font-size:1em}
ol{margin-left:1.75em}
ul li ol{margin-left:1.5em}
dl dd{margin-left:1.125em}
dl dd:last-child,dl dd:last-child>:last-child{margin-bottom:0}
li p,ul dd,ol dd,.olist .olist,.ulist .ulist,.ulist .olist,.olist .ulist{margin-bottom:.625em}
ul.checklist,ul.none,ol.none,ul.no-bullet,ol.no-bullet,ol.unnumbered,ul.unstyled,ol.unstyled{list-style-type:none}
ul.no-bullet,ol.no-bullet,ol.unnumbered{margin-left:.625em}
ul.unstyled,ol.unstyled{margin-left:0}
li>p:empty:only-child::before{content:"";display:inline-block}
ul.checklist>li>p:first-child{margin-left:-1em}
ul.checklist>li>p:first-child>.fa-square-o:first-child,ul.checklist>li>p:first-child>.fa-check-square-o:first-child{width:1.25em;font-size:.8em;position:relative;bottom:.125em}
ul.checklist>li>p:first-child>input[type=checkbox]:first-child{margin-right:.25em}
ul.inline{display:flex;flex-flow:row wrap;list-style:none;margin:0 0 .625em -1.25em}
ul.inline>li{margin-left:1.25em}
.unstyled dl dt{font-weight:400;font-style:normal}
ol.arabic{list-style-type:decimal}
ol.decimal{list-style-type:decimal-leading-zero}
ol.loweralpha{list-style-type:lower-alpha}
ol.upperalpha{list-style-type:upper-alpha}
ol.lowerroman{list-style-type:lower-roman}
ol.upperroman{list-style-type:upper-roman}
ol.lowergreek{list-style-type:lower-greek}
.hdlist>table,.colist>table{border:0;background:none}
.hdlist>table>tbody>tr,.colist>table>tbody>tr{background:none}
td.hdlist1,td.hdlist2{vertical-align:top;padding:0 .625em}
td.hdlist1{font-weight:bold;padding-bottom:1.25em}
td.hdlist2{word-wrap:anywhere}
.literalblock+.colist,.listingblock+.colist{margin-top:-.5em}
.colist td:not([class]):first-child{padding:.4em .75em 0;line-height:1;vertical-align:top}
.colist td:not([class]):first-child img{max-width:none}
.colist td:not([class]):last-child{padding:.25em 0}
.thumb,.th{line-height:0;display:inline-block;border:4px solid #fff;box-shadow:0 0 0 1px #ddd}
.imageblock.left{margin:.25em .625em 1.25em 0}
.imageblock.right{margin:.25em 0 1.25em .625em}
.imageblock>.title{margin-bottom:0}
.imageblock.thumb,.imageblock.th{border-width:6px}
.imageblock.thumb>.title,.imageblock.th>.title{padding:0 .125em}
.image.left,.image.right{margin-top:.25em;margin-bottom:.25em;display:inline-block;line-height:0}
.image.left{margin-right:.625em}
.image.right{margin-left:.625em}
a.image{text-decoration:none;display:inline-block}
a.image object{pointer-events:none}
sup.footnote,sup.footnoteref{font-size:.875em;position:static;vertical-align:super}
sup.footnote a,sup.footnoteref a{text-decoration:none}
sup.footnote a:active,sup.footnoteref a:active{text-decoration:underline}
#footnotes{padding-top:.75em;padding-bottom:.75em;margin-bottom:.625em}
#footnotes hr{width:20%;min-width:6.25em;margin:-.25em 0 .75em;border-width:1px 0 0}
#footnotes .footnote{padding:0 .375em 0 .225em;line-height:1.3334;font-size:.875em;margin-left:1.2em;margin-bottom:.2em}
#footnotes .footnote a:first-of-type{font-weight:bold;text-decoration:none;margin-left:-1.05em}
#footnotes .footnote:last-of-type{margin-bottom:0}
#content #footnotes{margin-top:-.625em;margin-bottom:0;padding:.75em 0}
div.unbreakable{page-break-inside:avoid}
.big{font-size:larger}
.small{font-size:smaller}
.underline{text-decoration:underline}
.overline{text-decoration:overline}
.line-through{text-decoration:line-through}
.aqua{color:#00bfbf}
.aqua-background{background:#00fafa}
.black{color:#000}
.black-background{background:#000}
.blue{color:#0000bf}
.blue-background{background:#0000fa}
.fuchsia{color:#bf00bf}
.fuchsia-background{background:#fa00fa}
.gray{color:#606060}
.gray-background{background:#7d7d7d}
.green{color:#006000}
.green-background{background:#007d00}
.lime{color:#00bf00}
.lime-background{background:#00fa00}
.maroon{color:#600000}
.maroon-background{background:#7d0000}
.navy{color:#000060}
.navy-background{background:#00007d}
.olive{color:#606000}
.olive-background{background:#7d7d00}
.purple{color:#600060}
.purple-background{background:#7d007d}
.red{color:#bf0000}
.red-background{background:#fa0000}
.silver{color:#909090}
.silver-background{background:#bcbcbc}
.teal{color:#006060}
.teal-background{background:#007d7d}
.white{color:#bfbfbf}
.white-background{background:#fafafa}
.yellow{color:#bfbf00}
.yellow-background{background:#fafa00}
span.icon>.fa{cursor:default}
a span.icon>.fa{cursor:inherit}
.admonitionblock td.icon [class^="fa icon-"]{font-size:2.5em;text-shadow:1px 1px 2px rgba(0,0,0,.5);cursor:default}
.admonitionblock td.icon .icon-note::before{content:"\f05a";color:#19407c}
.admonitionblock td.icon .icon-tip::before{content:"\f0eb";text-shadow:1px 1px 2px rgba(155,155,0,.8);color:#111}
.admonitionblock td.icon .icon-warning::before{content:"\f071";color:#bf6900}
.admonitionblock td.icon .icon-caution::before{content:"\f06d";color:#bf3400}
.admonitionblock td.icon .icon-important::before{content:"\f06a";color:#bf0000}
.conum[data-value]{display:inline-block;color:#fff!important;background:rgba(0,0,0,.8);border-radius:50%;text-align:center;font-size:.75em;width:1.67em;height:1.67em;line-height:1.67em;font-family:"Open Sans","DejaVu Sans",sans-serif;font-style:normal;font-weight:bold}
.conum[data-value] *{color:#fff!important}
.conum[data-value]+b{display:none}
.conum[data-value]::after{content:attr(data-value)}
pre .conum[data-value]{position:relative;top:-.125em}
b.conum *{color:inherit!important}
.conum:not([data-value]):empty{display:none}
dt,th.tableblock,td.content,div.footnote{text-rendering:optimizeLegibility}
h1,h2,p,td.content,span.alt,summary{letter-spacing:-.01em}
p strong,td.content strong,div.footnote strong{letter-spacing:-.005em}
p,blockquote,dt,td.content,span.alt,summary{font-size:1.0625rem}
p{margin-bottom:1.25rem}
.sidebarblock p,.sidebarblock dt,.sidebarblock td.content,p.tableblock{font-size:1em}
.exampleblock>.content{background:#fffef7;border-color:#e0e0dc;box-shadow:0 1px 4px #e0e0dc}
.print-only{display:none!important}
@page{margin:1.25cm .75cm}
@media print{*{box-shadow:none!important;text-shadow:none!important}
html{font-size:80%}
a{color:inherit!important;text-decoration:underline!important}
a.bare,a[href^="#"],a[href^="mailto:"]{text-decoration:none!important}
a[href^="http:"]:not(.bare)::after,a[href^="https:"]:not(.bare)::after{content:"(" attr(href) ")";display:inline-block;font-size:.875em;padding-left:.25em}
abbr[title]{border-bottom:1px dotted}
abbr[title]::after{content:" (" attr(title) ")"}
pre,blockquote,tr,img,object,svg{page-break-inside:avoid}
thead{display:table-header-group}
svg{max-width:100%}
p,blockquote,dt,td.content{font-size:1em;orphans:3;widows:3}
h2,h3,#toctitle,.sidebarblock>.content>.title{page-break-after:avoid}
#header,#content,#footnotes,#footer{max-width:none}
#toc,.sidebarblock,.exampleblock>.content{background:none!important}
#toc{border-bottom:1px solid #dddddf!important;padding-bottom:0!important}
body.book #header{text-align:center}
body.book #header>h1:first-child{border:0!important;margin:2.5em 0 1em}
body.book #header .details{border:0!important;display:block;padding:0!important}
body.book #header .details span:first-child{margin-left:0!important}
body.book #header .details br{display:block}
body.book #header .details br+span::before{content:none!important}
body.book #toc{border:0!important;text-align:left!important;padding:0!important;margin:0!important}
body.book #toc,body.book #preamble,body.book h1.sect0,body.book .sect1>h2{page-break-before:always}
.listingblock code[data-lang]::before{display:block}
#footer{padding:0 .9375em}
.hide-on-print{display:none!important}
.print-only{display:block!important}
.hide-for-print{display:none!important}
.show-for-print{display:inherit!important}}
@media amzn-kf8,print{#header>h1:first-child{margin-top:1.25rem}
.sect1{padding:0!important}
.sect1+.sect1{border:0}
#footer{background:none}
#footer-text{color:rgba(0,0,0,.6);font-size:.9em}}
@media amzn-kf8{#header,#content,#footnotes,#footer{padding:0}}
</style>
</head>
<body class="article data-line-1">
<div id="header">
</div>
<div id="content">
<div class="sect1 data-line-2">
<h2 id="bitcoin_network_ch08">Le r√©seau Bitcoin</h2>
<div class="sectionbody">
<div class="sect2 data-line-4">
<h3 id="_architecture_du_r√©seau_pair_√†_pair">Architecture du r√©seau pair √† pair</h3>
<div class="paragraph data-line-6">
<p>Bitcoin est structur√© comme une architecture de r√©seau pair √† pair au-dessus de l&#8217;Internet. Le terme pair √† pair, ou P2P, signifie que les ordinateurs qui participent au r√©seau sont des pairs les uns des autres, qu&#8217;ils sont tous √©gaux, qu&#8217;il n&#8217;y a pas de n≈ìuds &quot;sp√©ciaux&quot; et que tous les n≈ìuds partagent la charge de fournir services r√©seau. Les n≈ìuds du r√©seau s&#8217;interconnectent dans un r√©seau maill√© avec une topologie &quot;plate&quot;. Il n&#8217;y a pas de serveur, pas de service centralis√© et pas de hi√©rarchie au sein du r√©seau. Les n≈ìuds d&#8217;un r√©seau P2P fournissent et consomment des services en m√™me temps, la r√©ciprocit√© agissant comme une incitation √† la participation. Les r√©seaux P2P sont intrins√®quement r√©silients, d√©centralis√©s et ouverts. Un exemple pr√©√©minent d&#8217;une architecture de r√©seau P2P √©tait le d√©but d&#8217;Internet lui-m√™me, o√π les n≈ìuds du r√©seau IP √©taient √©gaux. L&#8217;architecture Internet d&#8217;aujourd&#8217;hui est plus hi√©rarchique, mais le protocole Internet conserve toujours son essence de topologie plate. Au-del√† du bitcoin, l&#8217;application la plus importante et la plus r√©ussie des technologies P2P est le partage de fichiers, avec Napster comme pionnier et BitTorrent comme l&#8217;√©volution la plus r√©cente de l&#8217;architecture.</p>
</div>
<div class="paragraph data-line-8">
<p>L&#8217;architecture du r√©seau P2P de Bitcoin est bien plus qu&#8217;un choix de topologie. Bitcoin est un syst√®me de paiement num√©rique P2P de par sa conception, et l&#8217;architecture du r√©seau est √† la fois le reflet et le fondement de cette caract√©ristique essentielle. La d√©centralisation du contr√¥le est un principe de conception de base qui ne peut √™tre atteint et maintenu que par un r√©seau consensuel P2P plat et d√©centralis√©.</p>
</div>
<div class="paragraph data-line-10">
<p>Le terme &quot;r√©seau Bitcoin&quot; fait r√©f√©rence √† l&#8217;ensemble de n≈ìuds ex√©cutant le protocole bitcoin P2P. En plus du protocole bitcoin P2P, il existe d&#8217;autres protocoles tels que Stratum qui sont utilis√©s pour le minage et les portefeuilles l√©gers ou mobiles. Ces protocoles suppl√©mentaires sont fournis par des serveurs de routage de passerelle qui acc√®dent au r√©seau Bitcoin √† l&#8217;aide du protocole bitcoin P2P, puis √©tendent ce r√©seau aux n≈ìuds ex√©cutant d&#8217;autres protocoles. Par exemple, les serveurs Stratum connectent les n≈ìuds de minage Stratum via le protocole Stratum au r√©seau Bitcoin principal et relient le protocole Stratum au protocole bitcoin P2P. Nous utilisons le terme ¬´¬†r√©seau Bitcoin √©tendu¬†¬ª pour d√©signer le r√©seau global qui comprend le protocole Bitcoin P2P, les protocoles de minage de groupe, le protocole Stratum et tout autre protocole connexe reliant les composants du syst√®me Bitcoin.</p>
</div>
</div>
<div class="sect2 data-line-12">
<h3 id="_types_de_n≈ìuds_et_r√¥les">Types de n≈ìuds et r√¥les</h3>
<div class="paragraph data-line-14">
<p>Bien que les n≈ìuds dans le bitcoin Les r√©seaux P2P sont √©gaux, ils peuvent jouer diff√©rents r√¥les en fonction de la fonctionnalit√© qu&#8217;ils prennent en charge. Un n≈ìud Bitcoin est un ensemble de fonctions¬†: le routage, la base de donn√©es blockchain, le minage et les services de portefeuille. Un n≈ìud complet avec ces quatre fonctions est affich√© dans <a href="#full_node_reference">Un n≈ìud de r√©seau Bitcoin avec les quatre fonctions¬†: portefeuille, mineur, base de donn√©es blockchain compl√®te et routage r√©seau</a>.</p>
</div>
<div id="full_node_reference" class="imageblock smallerfifty data-line-19">
<div class="content">
<img src="images/mbc2_0801.png" alt="R√©f√©rence de noeud client complet">
</div>
<div class="title">Figure 1. Un n≈ìud de r√©seau Bitcoin avec les quatre fonctions¬†: portefeuille, mineur, base de donn√©es blockchain compl√®te et routage r√©seau</div>
</div>
<div class="paragraph data-line-21">
<p>Tous les n≈ìuds incluent la fonction de routage pour participer au r√©seau et peuvent inclure d&#8217;autres fonctionnalit√©s. Tous les n≈ìuds valident et propagent les transactions et les blocs, et d√©couvrent et maintiennent les connexions aux pairs. Dans l&#8217;exemple de n≈ìud complet dans <a href="#full_node_reference">Un n≈ìud de r√©seau Bitcoin avec les quatre fonctions¬†: portefeuille, mineur, base de donn√©es blockchain compl√®te et routage r√©seau</a>, la fonction de routage est indiqu√©e par un cercle nomm√© &quot;Network Routing Node&quot; ou par la lettre &quot;N&quot;.</p>
</div>
<div class="paragraph data-line-23">
<p>Certains n≈ìuds, appel√©s n≈ìuds complets, conservent √©galement une copie compl√®te et √† jour de la cha√Æne de blocs. Les n≈ìuds complets peuvent v√©rifier de mani√®re autonome et autoritaire toute transaction sans r√©f√©rence externe. Certains n≈ìuds ne conservent qu&#8217;un sous-ensemble de la cha√Æne de blocs et v√©rifient les transactions √† l&#8217;aide d&#8217;une m√©thode appel√©e <em>simplified-payment-verification</em>, ou SPV. Ces n≈ìuds sont appel√©s n≈ìuds SPV ou n≈ìuds l√©gers. Dans l&#8217;exemple de n≈ìud complet de la figure, la fonction de base de donn√©es cha√Æne de blocs de n≈ìud complet est indiqu√©e par un cercle appel√© &quot;Full Blockchain&quot; ou la lettre &quot;B&quot;. Dans <a href="#bitcoin_network">Le r√©seau Bitcoin √©tendu montrant divers types de n≈ìuds, passerelles et protocoles</a>, les n≈ìuds SPV sont dessin√©s sans le cercle &quot;B&quot;, montrant qu&#8217;ils n&#8217;ont pas une copie compl√®te de la cha√Æne de blocs.</p>
</div>
<div class="paragraph data-line-25">
<p> Les n≈ìuds de minage se font concurrence pour cr√©er de nouveaux blocs en ex√©cutant du mat√©riel sp√©cialis√© pour r√©soudre l&#8217;algorithme de preuve de travail. Certains n≈ìuds de minage sont √©galement des n≈ìuds complets, conservant une copie compl√®te de la blockchain, tandis que d&#8217;autres sont des n≈ìuds l√©gers participant au minage de groupe et d√©pendant d&#8217;un serveur de groupe pour maintenir un n≈ìud complet. La fonction d&#8217;exploration de donn√©es est affich√©e dans le n≈ìud complet sous la forme d&#8217;un cercle appel√© &quot;Miner&quot; ou de la lettre &quot;M&quot;.</p>
</div>
<div class="paragraph data-line-27">
<p>Les portefeuilles d&#8217;utilisateurs peuvent faire partie d&#8217;un n≈ìud complet, comme c&#8217;est g√©n√©ralement le cas avec les clients Bitcoin de bureau. De plus en plus, de nombreux portefeuilles d&#8217;utilisateurs, en particulier ceux fonctionnant sur des appareils √† ressources limit√©es tels que les smartphones, sont des n≈ìuds SPV. La fonction de portefeuille est affich√©e dans <a href="#full_node_reference">Un n≈ìud de r√©seau Bitcoin avec les quatre fonctions¬†: portefeuille, mineur, base de donn√©es blockchain compl√®te et routage r√©seau</a> comme un cercle appel√© &quot;Wallet&quot; ou la lettre &quot;W.&quot;</p>
</div>
<div class="paragraph data-line-29">
<p>En plus des principaux types de n≈ìuds sur le protocole bitcoin P2P, il existe des serveurs et des n≈ìuds ex√©cutant d&#8217;autres protocoles, tels que des protocoles de groupe de minage sp√©cialis√©s et des protocoles d&#8217;acc√®s client l√©gers.</p>
</div>
<div class="paragraph data-line-31">
<p><a href="#node_type_ledgend">Diff√©rents types de n≈ìuds sur le r√©seau Bitcoin √©tendu</a> montre les types de n≈ìuds les plus courants sur le r√©seau Bitcoin √©tendu.</p>
</div>
</div>
<div class="sect2 data-line-33">
<h3 id="_le_r√©seau_bitcoin_√©tendu">Le r√©seau Bitcoin √©tendu</h3>
<div class="paragraph data-line-35">
<p>Le principal r√©seau Bitcoin, en cours d&#8217;ex√©cution le protocole bitcoin P2P, se compose de 5 000 √† 8 000 n≈ìuds d&#8217;√©coute ex√©cutant diff√©rentes versions du client de r√©f√©rence bitcoin (Bitcoin Core) et de quelques centaines de n≈ìuds ex√©cutant diverses autres impl√©mentations du protocole bitcoin P2P, telles que Bitcoin Classic, Bitcoin Unlimited, BitcoinJ, Libbitcoin, btcd et bcoin. Un petit pourcentage des n≈ìuds du r√©seau bitcoin P2P sont √©galement des n≈ìuds de minage, en concurrence dans le processus de minage, en validant les transactions et en cr√©ant de nouveaux blocs. Diverses grandes entreprises s&#8217;interfacent avec le r√©seau Bitcoin en ex√©cutant des clients √† n≈ìud complet bas√©s sur le client Bitcoin Core, avec des copies compl√®tes de la cha√Æne de blocs et un n≈ìud de r√©seau, mais sans fonctions de minage ou de portefeuille. Ces n≈ìuds agissent comme des routeurs de p√©riph√©rie de r√©seau, permettant √† divers autres services (√©changes, portefeuilles, explorateurs de blocs, traitement des paiements marchands) d&#8217;√™tre construits par-dessus.</p>
</div>
<div class="paragraph data-line-37">
<p>Le r√©seau Bitcoin √©tendu comprend le r√©seau ex√©cutant le protocole bitcoin P2P, d√©crit pr√©c√©demment, ainsi que des n≈ìuds ex√©cutant des protocoles sp√©cialis√©s. Un certain nombre de serveurs de groupe et de passerelles de protocole qui connectent des n≈ìuds ex√©cutant d&#8217;autres protocoles sont attach√©s au r√©seau principal bitcoin P2P. Ces autres n≈ìuds de protocole sont principalement des n≈ìuds de minage de groupe (voir <a href="#mining">[mining]</a>) et les clients de portefeuille l√©gers, qui ne portent pas une copie compl√®te de la cha√Æne de blocs.</p>
</div>
<div class="paragraph data-line-39">
<p><a href="#bitcoin_network">Le r√©seau Bitcoin √©tendu montrant divers types de n≈ìuds, passerelles et protocoles</a> montre le r√©seau Bitcoin √©tendu avec les diff√©rents types de n≈ìuds, serveurs de passerelle, routeurs de p√©riph√©rie et clients de portefeuille et les diff√©rents protocoles qu&#8217;ils utilisent pour se connecter les uns aux autres.</p>
</div>
<div id="node_type_ledgend" class="imageblock data-line-43">
<div class="content">
<img src="images/mbc2_0802.png" alt="Types de noeuds Bitcoin">
</div>
<div class="title">Figure 2. Diff√©rents types de n≈ìuds sur le r√©seau Bitcoin √©tendu</div>
</div>
<div id="bitcoin_network" class="imageblock data-line-47">
<div class="content">
<img src="images/mbc2_0803.png" alt="R√©seau Bitcoin">
</div>
<div class="title">Figure 3. Le r√©seau Bitcoin √©tendu montrant divers types de n≈ìuds, passerelles et protocoles</div>
</div>
</div>
<div class="sect2 data-line-49">
<h3 id="_r√©seaux_relais_bitcoin">R√©seaux relais Bitcoin</h3>
<div class="paragraph data-line-51">
<p>Alors que le r√©seau bitcoin P2P r√©pond aux besoins g√©n√©raux d&#8217;une grande vari√©t√© de types de n≈ìuds, il pr√©sente une latence de r√©seau trop √©lev√©e pour les besoins sp√©cialis√©s des n≈ìuds de minage de bitcoins.</p>
</div>
<div class="paragraph data-line-53">
<p>Les mineurs de Bitcoin sont engag√©s dans une comp√©tition urgente pour r√©soudre le probl√®me de la preuve de travail et √©tendre la cha√Æne de blocs (voir <a href="#mining">[mining]</a>). Tout en participant √† cette comp√©tition, les mineurs de bitcoins doivent minimiser le temps entre la propagation d&#8217;un bloc gagnant et le d√©but du prochain tour de comp√©tition. Dans le secteur minier, la latence du r√©seau est directement li√©e aux marges b√©n√©ficiaires.</p>
</div>
<div class="paragraph data-line-55">
<p>Un <em>Bitcoin Relay Network</em> ou (r√©seau de relais Bitcoin) est un r√©seau qui tente de minimiser la latence dans la transmission des blocs entre les mineurs. Le <a href="https://www.bitcoinrelaynetwork.org" class="undefined" data-href="https://www.bitcoinrelaynetwork.org">https://www.bitcoinrelaynetwork.org</a> [Bitcoin Relay Network] original a √©t√© cr√©√© par le d√©veloppeur principal Matt Corallo en 2015 pour permettre une synchronisation rapide des blocs entre les mineurs avec une latence tr√®s faible. Le r√©seau se composait de plusieurs n≈ìuds sp√©cialis√©s h√©berg√©s sur l&#8217;infrastructure Amazon Web Services √† travers le monde et servait √† connecter la majorit√© des mineurs et des pools de minage.</p>
</div>
<div class="paragraph data-line-57">
<p>Le r√©seau de relais Bitcoin d&#8217;origine a √©t√© remplac√© en 2016 par l&#8217;introduction du <em>Fast Internet Bitcoin Relay Engine</em> ou https:/ /bitcoinfibre.org[<em>FIBRE</em>], √©galement cr√©√© par le d√©veloppeur principal Matt Corallo. FIBRE est un r√©seau de relais bas√© sur UDP qui relaie les blocs au sein d&#8217;un r√©seau de n≈ìuds. FIBRE met en ≈ìuvre l&#8217;optimisation <em>bloc compact</em> pour r√©duire davantage la quantit√© de donn√©es transmises et la latence du r√©seau.</p>
</div>
<div class="paragraph data-line-59">
<p>Les r√©seaux de relais ne remplacent pas le r√©seau P2P de Bitcoin. Au lieu de cela, ce sont des r√©seaux superpos√©s qui fournissent une connectivit√© suppl√©mentaire entre les n≈ìuds ayant des besoins sp√©cialis√©s. Comme les autoroutes ne remplacent pas les routes rurales, mais plut√¥t des raccourcis entre deux points √† fort trafic, vous avez toujours besoin de petites routes pour vous connecter aux autoroutes.</p>
</div>
</div>
<div class="sect2 data-line-61">
<h3 id="_d√©couverte_du_r√©seau">D√©couverte du r√©seau</h3>
<div class="paragraph data-line-63">
<p>Lorsqu&#8217;un nouveau n≈ìud d√©marre, il doit d√©couvrir d&#8217;autres n≈ìuds Bitcoin sur le r√©seau afin de participer. Pour d√©marrer ce processus, un nouveau n≈ìud doit d√©couvrir au moins un n≈ìud existant sur le r√©seau et s&#8217;y connecter. L&#8217;emplacement g√©ographique des autres n≈ìuds n&#8217;est pas pertinent¬†; la topologie du r√©seau Bitcoin n&#8217;est pas d√©finie g√©ographiquement. Par cons√©quent, tous les n≈ìuds Bitcoin existants peuvent √™tre s√©lectionn√©s au hasard.</p>
</div>
<div class="paragraph data-line-65">
<p>Pour se connecter √† un pair connu, les n≈ìuds √©tablissent une connexion TCP, g√©n√©ralement au port 8333 (le port g√©n√©ralement connu comme celui utilis√© par bitcoin), ou un autre port s&#8217;il en existe un. Lors de l&#8217;√©tablissement d&#8217;une connexion, le n≈ìud commencera une &quot;prise de contact&quot; (voir <a href="#network_handshake">La poign√©e de main initiale entre pairs</a>) en transmettant un message version, qui contient des informations d&#8217;identification de base, notamment¬†:</p>
</div>
<div class="dlist data-line-67">
<dl>
<dt class="hdlist1">nVersion</dt>
<dd>
<p>La version du protocole bitcoin P2P que le client &quot;parle&quot; (par exemple, 70002)</p>
</dd>
<dt class="hdlist1">nLocalServices</dt>
<dd>
<p>Une liste des services locaux pris en charge par le n≈ìud, actuellement uniquement NODE_NETWORK</p>
</dd>
<dt class="hdlist1">nTime</dt>
<dd>
<p>L&#8217;heure actuelle</p>
</dd>
<dt class="hdlist1">addrYou</dt>
<dd>
<p>L&#8217;adresse IP du n≈ìud distant vue depuis ce n≈ìud</p>
</dd>
<dt class="hdlist1">addrMe</dt>
<dd>
<p>L&#8217;adresse IP du n≈ìud local, telle que d√©couverte par le n≈ìud local</p>
</dd>
<dt class="hdlist1">subver</dt>
<dd>
<p>Une sous-version indiquant le type de logiciel ex√©cut√© sur ce n≈ìud (par exemple, <span class="keep-together"><code>/Satoshi:0.9.2.1/</code></span>)</p>
</dd>
<dt class="hdlist1">BestHeight</dt>
<dd>
<p>La hauteur de bloc de la blockchain de ce n≈ìud</p>
</dd>
</dl>
</div>
<div class="paragraph data-line-75">
<p>(Voir <a href="https://bit.ly/1qlsC7w" data-href="https://bit.ly/1qlsC7w">GitHub</a> pour un exemple du message de version du r√©seau.)</p>
</div>
<div class="paragraph data-line-77">
<p>Le message version est toujours le premier message envoy√© par un pair √† un autre pair. L&#8217;homologue local recevant un message version examinera la nVersion signal√©e par l&#8217;homologue distant et d√©cidera si l&#8217;homologue distant est compatible. Si le pair distant est compatible, le pair local accusera r√©ception du message version et √©tablira une connexion en envoyant un message verack.</p>
</div>
<div class="paragraph data-line-79">
<p>Comment un nouveau n≈ìud trouve-t-il des pairs¬†? La premi√®re m√©thode consiste √† interroger les DNS √† l&#8217;aide d&#8217;un certain nombre de d'&quot;indexes DNS&quot;, qui sont des serveurs DNS fournissant une liste d&#8217;adresses IP de n≈ìuds Bitcoin. Certaines de ces indexes DNS fournissent une liste statique d&#8217;adresses IP de n≈ìuds d&#8217;√©coute bitcoin stables. Certaines des indexes DNS sont des impl√©mentations personnalis√©es de BIND (Berkeley Internet Name Daemon) qui renvoient un sous-ensemble al√©atoire √† partir d&#8217;une liste d&#8217;adresses de n≈ìuds Bitcoin collect√©es par un robot ou un n≈ìud Bitcoin de longue dur√©e. Le client Bitcoin Core contient les noms de neuf sources DNS diff√©rentes. La diversit√© de propri√©t√© et la diversit√© de mise en ≈ìuvre des diff√©rentes sources DNS offrent un haut niveau de fiabilit√© pour le processus d&#8217;amor√ßage initial. Dans le client Bitcoin Core, l&#8217;option d&#8217;utilisation des indexes DNS est contr√¥l√©e par le commutateur d&#8217;option -dnsseed (r√©gl√© sur 1 par d√©faut, pour utiliser la source DNS).</p>
</div>
<div class="paragraph data-line-81">
<p>Alternativement, un n≈ìud d&#8217;amor√ßage qui ne sait rien du r√©seau doit recevoir l&#8217;adresse IP d&#8217;au moins un n≈ìud Bitcoin, apr√®s quoi il peut √©tablir des connexions via d&#8217;autres introductions. L&#8217;argument de ligne de commande -seednode peut √™tre utilis√© pour se connecter √† un n≈ìud uniquement pour les introductions en l&#8217;utilisant comme source. Une fois que le n≈ìud de d√©part initial a √©t√© utilis√© pour former des pr√©sentations, le client s&#8217;en d√©connecte et utilise les pairs nouvellement d√©couverts.</p>
</div>
<div id="network_handshake" class="imageblock data-line-85">
<div class="content">
<img src="images/mbc2_0804.png" alt="&quot;Prise de contact r√©seau&quot;">
</div>
<div class="title">Figure 4. La poign√©e de main initiale entre pairs</div>
</div>
<div class="paragraph data-line-87">
<p>Une fois qu&#8217;une ou plusieurs connexions sont √©tablies, le nouveau n≈ìud enverra un message addr contenant sa propre adresse IP √† ses voisins. Les voisins transmettront √† leur tour le message addr √† leurs voisins, garantissant que le n≈ìud nouvellement connect√© devient bien connu et mieux connect√©. De plus, le n≈ìud nouvellement connect√© peut envoyer getaddr aux voisins, leur demandant de renvoyer une liste d&#8217;adresses IP d&#8217;autres pairs. De cette fa√ßon, un n≈ìud peut trouver des pairs auxquels se connecter et annoncer son existence sur le r√©seau pour que d&#8217;autres n≈ìuds le trouvent. <a href="#address_propagation">Propagation et d√©couverte d&#8217;adresses</a>  montre le protocole de d√©couverte d&#8217;adresse.</p>
</div>
<div id="address_propagation" class="imageblock data-line-92">
<div class="content">
<img src="images/mbc2_0805.png" alt="&quot;Propagation d&#8217;adresse&quot;">
</div>
<div class="title">Figure 5. Propagation et d√©couverte d&#8217;adresses</div>
</div>
<div class="paragraph data-line-94">
<p>Un n≈ìud doit se connecter √† quelques pairs diff√©rents afin d&#8217;√©tablir divers chemins dans le r√©seau Bitcoin. Les chemins ne sont pas persistants, les n≈ìuds vont et viennent, et le n≈ìud doit donc continuer √† d√©couvrir de nouveaux n≈ìuds √† mesure qu&#8217;il perd d&#8217;anciennes connexions et √† aider les autres n≈ìuds lors de leur d√©marrage. Une seule connexion est n√©cessaire pour d√©marrer, car le premier n≈ìud peut proposer des introductions √† ses n≈ìuds pairs et ces pairs peuvent proposer d&#8217;autres introductions. Il est √©galement inutile et gaspilleur de se connecter √† plus d&#8217;une poign√©e de n≈ìuds. Apr√®s le d√©marrage, un n≈ìud se souviendra de ses derni√®res connexions homologues r√©ussies, de sorte que s&#8217;il est red√©marr√©, il peut rapidement r√©tablir les connexions avec son ancien r√©seau homologue. Si aucun des anciens pairs ne r√©pond √† sa demande de connexion, le n≈ìud peut utiliser les n≈ìuds de d√©part pour red√©marrer.</p>
</div>
<div class="paragraph data-line-96">
<p>Sur un n≈ìud ex√©cutant le client Bitcoin Core, vous pouvez lister les connexions homologues avec la commande getpeerinfo¬†:</p>
</div>
<div class="listingblock data-line-99">
<div class="content">
<pre class="highlight"><code class="language-bash" data-lang="bash">$ bitcoin-cli getpeerinfo</code></pre>
</div>
</div>
<div class="listingblock data-line-103">
<div class="content">
<pre class="highlight"><code class="language-json" data-lang="json">[
    {
        "addr" : "85.213.199.39:8333",
        "services" : "00000001",
        "lastsend" : 1405634126,
        "lastrecv" : 1405634127,
        "bytessent" : 23487651,
        "bytesrecv" : 138679099,
        "conntime" : 1405021768,
        "pingtime" : 0.00000000,
        "version" : 70002,
        "subver" : "/Satoshi:0.9.2.1/",
        "inbound" : false,
        "startingheight" : 310131,
        "banscore" : 0,
        "syncnode" : true
    },
    {
        "addr" : "58.23.244.20:8333",
        "services" : "00000001",
        "lastsend" : 1405634127,
        "lastrecv" : 1405634124,
        "bytessent" : 4460918,
        "bytesrecv" : 8903575,
        "conntime" : 1405559628,
        "pingtime" : 0.00000000,
        "version" : 70001,
        "subver" : "/Satoshi:0.8.6/",
        "inbound" : false,
        "startingheight" : 311074,
        "banscore" : 0,
        "syncnode" : false
    }
]</code></pre>
</div>
</div>
<div class="paragraph data-line-140">
<p>Pour outrepasser la gestion automatique des pairs et sp√©cifier une liste d&#8217;adresses IP, les utilisateurs peuvent fournir l&#8217;option -connect=&lt;IPAddress&gt; et sp√©cifiez une ou plusieurs adresses IP. Si cette option est utilis√©e, le n≈ìud se connectera uniquement aux adresses IP s√©lectionn√©es, au lieu de d√©couvrir et de maintenir automatiquement les connexions homologues.</p>
</div>
<div class="paragraph data-line-142">
<p>S&#8217;il n&#8217;y a pas de trafic sur une connexion, les n≈ìuds enverront p√©riodiquement un message pour maintenir la connexion. Si un n≈ìud n&#8217;a pas communiqu√© sur une connexion pendant plus de 90 minutes, il est suppos√© √™tre d√©connect√© et un nouveau pair sera recherch√©. Ainsi, le r√©seau s&#8217;adapte dynamiquement aux n≈ìuds transitoires et aux probl√®mes de r√©seau, et peut cro√Ætre et r√©tr√©cir de mani√®re organique selon les besoins sans aucun contr√¥le central.</p>
</div>
</div>
<div class="sect2 data-line-144">
<h3 id="_n≈ìuds_complets">N≈ìuds complets</h3>
<div class="paragraph data-line-146">
<p>Les n≈ìuds complets sont des n≈ìuds qui maintiennent une cha√Æne de blocs compl√®te avec toutes les transactions. Plus pr√©cis√©ment, ils devraient probablement √™tre appel√©s &quot;n≈ìuds de cha√Æne de blocs complets&quot;. Dans les premi√®res ann√©es de bitcoin, tous les n≈ìuds √©taient des n≈ìuds complets et actuellement, le client Bitcoin Core est un n≈ìud de cha√Æne de blocs complet. Au cours des deux derni√®res ann√©es, cependant, de nouvelles formes de clients Bitcoin ont √©t√© introduites qui ne maintiennent pas une blockchain compl√®te mais fonctionnent comme des clients l√©gers. Nous les examinerons plus en d√©tail dans la section suivante.</p>
</div>
<div class="paragraph data-line-148">
<p>Les noeuds de cha√Æne de blocs complets maintiennent un copie √† jour de la cha√Æne de blocs Bitcoin avec toutes les transactions, qu&#8217;ils construisent et v√©rifient ind√©pendamment, en commen√ßant par le tout premier bloc (bloc de gen√®se) et en remontant jusqu&#8217;au dernier bloc connu du r√©seau. Un n≈ìud de cha√Æne de blocs complet peut v√©rifier de mani√®re ind√©pendante et autoritaire toute transaction sans recours √† aucun autre n≈ìud ou source d&#8217;informations. Le n≈ìud de la cha√Æne de blocs compl√®te s&#8217;appuie sur le r√©seau pour recevoir des mises √† jour sur les nouveaux blocs de transactions, qu&#8217;il v√©rifie ensuite et int√®gre dans sa copie locale de la cha√Æne de blocs.</p>
</div>
<div class="paragraph data-line-150">
<p>L&#8217;ex√©cution d&#8217;un n≈ìud de cha√Æne de blocs complet vous offre l&#8217;exp√©rience bitcoin pure¬†: une v√©rification ind√©pendante de toutes les transactions sans avoir besoin de s&#8217;appuyer sur, ou de faire confiance, √† d&#8217;autres syst√®mes. Il est facile de savoir si vous ex√©cutez un n≈ìud complet car il n√©cessite plus de cent gigaoctets de stockage persistant (espace disque) pour stocker la cha√Æne de blocs compl√®te. Si vous avez besoin de beaucoup de disque et que la synchronisation avec le r√©seau prend deux √† trois jours, vous ex√©cutez un n≈ìud complet. C&#8217;est le prix d&#8217;une ind√©pendance totale et de la libert√© vis-√†-vis de l&#8217;autorit√© centrale.</p>
</div>
<div class="paragraph data-line-152">
<p>Il existe quelques impl√©mentations alternatives de clients Bitcoin √† cha√Æne compl√®te, construites √† l&#8217;aide de diff√©rents langages de programmation et architectures logicielles. Cependant, l&#8217;impl√©mentation la plus courante est le client de r√©f√©rence Bitcoin Core, √©galement connu sous le nom de client Satoshi. Plus de 75 % des n≈ìuds du r√©seau Bitcoin ex√©cutent diff√©rentes versions de Bitcoin Core. Il est identifi√© comme ¬´¬†Satoshi¬†¬ª dans la cha√Æne de sous-version envoy√©e dans le message version et affich√© par la commande getpeerinfo comme nous l&#8217;avons vu pr√©c√©demment¬†; par exemple, /Satoshi:0.8.6/.</p>
</div>
</div>
<div class="sect2 data-line-154">
<h3 id="_√©changer_linventaire">√âchanger &quot;l&#8217;inventaire&quot;</h3>
<div class="paragraph data-line-156">
<p>La premi√®re chose qu&#8217;un n≈ìud complet fera une fois qu&#8217;il se connecte √† des pairs est d&#8217;essayer de construire une cha√Æne de blocs compl√®te. S&#8217;il s&#8217;agit d&#8217;un tout nouveau n≈ìud et qu&#8217;il n&#8217;a aucune cha√Æne de blocs, il ne conna√Æt qu&#8217;un seul bloc, le bloc de gen√®se, qui est int√©gr√© de mani√®re statique dans le logiciel client. En commen√ßant par le bloc #0 (le bloc de gen√®se), le nouveau n≈ìud devra t√©l√©charger des centaines de milliers de blocs pour se synchroniser avec le r√©seau et r√©tablir la cha√Æne de blocs compl√®te.</p>
</div>
<div class="paragraph data-line-158">
<p>Le processus de synchronisation de la cha√Æne de blocs commence par le message version, car il contient BestHeight, l&#8217;hauteur actuelle d&#8217;un n≈ìud (nombre de blocs) de la cha√Æne de blocs. Un n≈ìud verra les messages version de ses pairs, saura combien de blocs ils ont chacun et pourra comparer avec le nombre de blocs qu&#8217;il a dans sa propre cha√Æne de blocs. Les n≈ìuds appair√©s √©changeront un message getblocks contenant le hachage (empreinte digitale) du bloc sup√©rieur sur leur cha√Æne de blocs locale. L&#8217;un des pairs pourra identifier le r√©sultat d&#8217;hachage re√ßu comme appartenant √† un bloc qui n&#8217;est pas au sommet, mais appartient plut√¥t √† un bloc plus ancien, en d√©duisant ainsi que sa propre cha√Æne de blocs locale est plus longue que celle de son pair.</p>
</div>
<div class="paragraph data-line-160">
<p>Le pair qui a la cha√Æne de blocs la plus longue a plus de blocs que l&#8217;autre n≈ìud et peut identifier les blocs dont l&#8217;autre n≈ìud a besoin pour &quot;rattraper son retard&quot;. Il identifiera les 500 premiers blocs √† partager et transmettra leurs hachages √† l&#8217;aide d&#8217;un message inv (inventaire). Le n≈ìud manquant ces blocs les r√©cup√©rera ensuite, en √©mettant une s√©rie de messages getdata demandant les donn√©es compl√®tes du bloc et en identifiant les blocs demand√©s √† l&#8217;aide des hachages du message inv.</p>
</div>
<div class="paragraph data-line-162">
<p>Supposons, par exemple, qu&#8217;un n≈ìud n&#8217;ait que le bloc de gen√®se. Il recevra alors un message inv de ses pairs contenant les hachages des 500 prochains blocs de la cha√Æne. Il commencera √† demander des blocs √† tous ses pairs connect√©s, r√©partissant la charge et s&#8217;assurant qu&#8217;il ne submerge aucun pair de demandes. Le n≈ìud garde une trace du nombre de blocs &quot;en transit&quot; par connexion homologue, c&#8217;est-√†-dire des blocs qu&#8217;il a demand√©s mais non re√ßus, en v√©rifiant qu&#8217;il ne d√©passe pas une limite (MAX_BLOCKS_IN_TRANSIT_PER_PEER). De cette fa√ßon, s&#8217;il a besoin de beaucoup de blocs, il n&#8217;en demandera de nouveaux que lorsque les demandes pr√©c√©dentes seront satisfaites, permettant aux pairs de contr√¥ler le rythme des mises √† jour et de ne pas submerger le r√©seau. Au fur et √† mesure que chaque bloc est re√ßu, il est ajout√© √† la cha√Æne de blocs, comme nous le verrons dans <a href="#blockchain">[blockchain]</a>. Au fur et √† mesure que la cha√Æne de blocs locale se construit, davantage de blocs sont demand√©s et re√ßus, et le processus se poursuit jusqu&#8217;√† ce que le n≈ìud rattrape le reste du r√©seau.</p>
</div>
<div class="paragraph data-line-164">
<p>Ce processus de comparaison de la cha√Æne de blocs locale avec les pairs et de r√©cup√©ration des blocs manquants se produit chaque fois qu&#8217;un n≈ìud se d√©connecte pendant une p√©riode donn√©e. Qu&#8217;un n≈ìud soit hors ligne depuis quelques minutes et qu&#8217;il manque quelques blocs, ou un mois et qu&#8217;il manque quelques milliers de blocs, il commence par envoyer getblocks, re√ßoit une r√©ponse inv et commence √† t√©l√©charger les blocs manquants. <a href="#inventory_synchronization">Noeud synchronisant la blockchain en r√©cup√©rant les blocs d&#8217;un pair</a> affiche l&#8217;inventaire et le protocole de propagation des blocs.</p>
</div>
<div id="inventory_synchronization" class="imageblock smallerfifty data-line-169">
<div class="content">
<img src="images/mbc2_0806.png" alt="&quot;Synchronisation de l&#8217;inventaire&quot;">
</div>
<div class="title">Figure 6. Noeud synchronisant la blockchain en r√©cup√©rant les blocs d&#8217;un pair</div>
</div>
</div>
<div class="sect2 data-line-172">
<h3 id="spv_nodes">N≈ìuds de v√©rification simplifi√©e des paiements, ou Simplified Payment Verification (SPV)</h3>
<div class="paragraph data-line-174">
<p>Tous les n≈ìuds n&#8217;ont pas la capacit√© de stocker la cha√Æne de blocs compl√®te. De nombreux clients Bitcoin sont con√ßus pour fonctionner sur des appareils √† espace et puissance limit√©s, tels que les smartphones, les tablettes ou les syst√®mes embarqu√©s. Pour ces appareils, une m√©thode de <em>v√©rification de paiement simplifi√©e</em> (SPV) est utilis√©e pour leur permettre de fonctionner sans stocker la cha√Æne de blocs compl√®te. Ces types de clients sont appel√©s clients SPV ou clients l√©gers. √Ä mesure que l&#8217;adoption du bitcoin augmente, le n≈ìud SPV devient la forme la plus courante de n≈ìud Bitcoin, en particulier pour les portefeuilles bitcoin.</p>
</div>
<div class="paragraph data-line-176">
<p>Les n≈ìuds SPV t√©l√©chargent uniquement les en-t√™tes de bloc et ne t√©l√©chargent pas les transactions incluses dans chaque bloc. La cha√Æne de blocs qui en r√©sulte, sans transactions, est 1 000 fois plus petite que la cha√Æne de blocs compl√®te. Les n≈ìuds SPV ne peuvent pas construire une image compl√®te de tous les UTXO disponibles pour les d√©penses car ils ne connaissent pas toutes les transactions sur le r√©seau. Les n≈ìuds SPV v√©rifient les transactions en utilisant une m√©thode l√©g√®rement diff√©rente qui s&#8217;appuie sur des pairs pour fournir des vues partielles des parties pertinentes de la cha√Æne de blocs √† la demande.</p>
</div>
<div class="paragraph data-line-178">
<p>Par analogie, un n≈ìud complet est comme un touriste dans une ville √©trange, √©quip√© d&#8217;une carte d√©taill√©e de chaque rue et de chaque adresse. En comparaison, un n≈ìud SPV est comme un touriste dans une ville √©trange demandant √† des inconnus au hasard des indications d√©taill√©es tout en ne connaissant qu&#8217;une seule avenue principale. Bien que les deux touristes puissent v√©rifier l&#8217;existence d&#8217;une rue en la visitant, le touriste sans carte ne sait pas ce qui se trouve dans les rues lat√©rales et ne sait pas quelles autres rues existent. Positionn√© en face du 23 Church Street, le touriste sans carte ne peut pas savoir s&#8217;il existe une dizaine d&#8217;autres adresses ¬´ 23 Church Street ¬ª dans la ville et si celle-ci est la bonne. La meilleure chance pour le touriste sans carte est de demander √† suffisamment de gens et d&#8217;esp√©rer que certains d&#8217;entre eux n&#8217;essaient pas de l&#8217;agresser.</p>
</div>
<div class="paragraph data-line-180">
<p>SPV v√©rifie les transactions en se r√©f√©rant √† leur <em>profondeur</em> dans la cha√Æne de blocs au lieu de leur <em>hauteur</em>. Alors qu&#8217;un n≈ìud de cha√Æne de blocs complet construira une cha√Æne enti√®rement v√©rifi√©e de milliers de blocs et de transactions descendant dans la cha√Æne de blocs (remontant dans le temps) jusqu&#8217;au bloc de gen√®se, un n≈ìud SPV v√©rifiera la cha√Æne de tous les blocs (mais pas toutes les transactions) et lier cette cha√Æne √† la transaction d&#8217;int√©r√™t.</p>
</div>
<div class="paragraph data-line-182">
<p>Par exemple, lors de l&#8217;examen d&#8217;une transaction dans le bloc 300 000, un n≈ìud complet relie les 300 000 blocs au bloc de gen√®se et cr√©e une base de donn√©es compl√®te d&#8217;UTXO, √©tablissant la validit√© de la transaction en confirmant que l&#8217;UTXO reste non d√©pens√©. Un n≈ìud SPV ne peut pas valider si l&#8217;UTXO n&#8217;est pas d√©pens√©. Au lieu de cela, le n≈ìud SPV √©tablira un lien entre la transaction et le bloc qui la contient, en utilisant un <em>chemin de Merkle</em> (voir <a href="#merkle_trees">[merkle_trees]</a>). Ensuite, le n≈ìud SPV attend de voir les six blocs 300 001 √† 300 006 empil√©s au-dessus du bloc contenant la transaction et le v√©rifie en √©tablissant sa profondeur sous les blocs 300 006 √† 300 001. Le fait que d&#8217;autres n≈ìuds du r√©seau aient accept√© le bloc 300 000 et aient ensuite effectu√© le travail n√©cessaire pour produire six autres blocs en plus est la preuve, par procuration, que la transaction n&#8217;√©tait pas une double d√©pense.</p>
</div>
<div class="paragraph data-line-184">
<p>Un n≈ìud SPV ne peut pas √™tre persuad√© qu&#8217;une transaction existe dans un bloc alors que la transaction n&#8217;existe pas en fait. Le n≈ìud SPV √©tablit l&#8217;existence d&#8217;une transaction dans un bloc en demandant une preuve de chemin Merkle et en validant la preuve de travail dans la cha√Æne de blocs. Cependant, l&#8217;existence d&#8217;une transaction peut √™tre &quot;masqu√©e&quot; √† un n≈ìud SPV. Un n≈ìud SPV peut certainement prouver qu&#8217;une transaction existe mais ne peut pas v√©rifier qu&#8217;une transaction, telle qu&#8217;une double d√©pense du m√™me UTXO, n&#8217;existe pas car il n&#8217;a pas d&#8217;enregistrement de toutes les transactions. Cette vuln√©rabilit√© peut √™tre utilis√©e dans une attaque par d√©ni de service ou pour une attaque √† double d√©pense contre les n≈ìuds SPV. Pour se d√©fendre contre cela, un n≈ìud SPV doit se connecter de mani√®re al√©atoire √† plusieurs n≈ìuds, pour augmenter la probabilit√© qu&#8217;il soit en contact avec au moins un n≈ìud honn√™te. Ce besoin de se connecter de mani√®re al√©atoire signifie que les n≈ìuds SPV sont √©galement vuln√©rables aux attaques de partitionnement de r√©seau ou aux attaques Sybil, o√π ils sont connect√©s √† de faux n≈ìuds ou √† de faux r√©seaux et n&#8217;ont pas acc√®s √† des n≈ìuds honn√™tes ou au vrai r√©seau Bitcoin.</p>
</div>
<div class="paragraph data-line-186">
<p>Dans la plupart des cas pratiques, les n≈ìuds SPV bien connect√©s sont suffisamment s√©curis√©s, trouvant un √©quilibre entre les besoins en ressources, l&#8217;aspect pratique et la s√©curit√©. Pour une s√©curit√© infaillible, cependant, rien ne vaut l&#8217;ex√©cution d&#8217;un n≈ìud de blockchain complet.</p>
</div>
<div class="admonitionblock tip data-line-189">
<table>
<tr>
<td class="icon">
<div class="title">Tip</div>
</td>
<td class="content">
<div class="paragraph data-line-190">
<p>Un n≈ìud de cha√Æne de blocs complet v√©rifie une transaction en v√©rifiant toute la cha√Æne de milliers de blocs en dessous afin de garantir que l&#8217;UTXO n&#8217;est pas d√©pens√©, tandis qu&#8217;un n≈ìud SPV v√©rifie √† quelle profondeur le bloc est enterr√© par une poign√©e de blocs au-dessus.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph data-line-193">
<p>Pour obtenir les en-t√™tes de bloc, les n≈ìuds SPV utilisent un message getheaders au lieu de getblocks. L&#8217;homologue qui r√©pond enverra jusqu&#8217;√† 2 000 en-t√™tes de bloc √† l&#8217;aide d&#8217;un seul message headers. Le processus est par ailleurs le m√™me que celui utilis√© par un n≈ìud complet pour r√©cup√©rer des blocs complets. Les n≈ìuds SPV d√©finissent √©galement un filtre sur la connexion aux pairs, pour filtrer le flux des futurs blocs et transactions envoy√©s par les pairs. Toutes les transactions int√©ressantes sont r√©cup√©r√©es √† l&#8217;aide d&#8217;une requ√™te getdata. Le pair g√©n√®re un message tx contenant les transactions, en r√©ponse. <a href="#spv_synchronization">Noeud SPV synchronisant les en-t√™tes de bloc</a> montre la synchronisation des en-t√™tes de bloc.</p>
</div>
<div class="paragraph data-line-195">
<p>√âtant donn√© que les n≈ìuds SPV doivent r√©cup√©rer des transactions sp√©cifiques afin de les v√©rifier de mani√®re s√©lective, ils cr√©ent √©galement un risque pour la confidentialit√©. Contrairement aux noeuds de cha√Æne de blocs complets, qui collectent toutes les transactions au sein de chaque bloc, les demandes de donn√©es sp√©cifiques du n≈ìud SPV peuvent r√©v√©ler par inadvertance les adresses de leur portefeuille. Par exemple, un tiers surveillant un r√©seau pourrait suivre toutes les transactions demand√©es par un portefeuille sur un n≈ìud SPV et les utiliser pour associer des adresses Bitcoin √† l&#8217;utilisateur de ce portefeuille, d√©truisant ainsi la vie priv√©e de l&#8217;utilisateur.</p>
</div>
<div id="spv_synchronization" class="imageblock data-line-199">
<div class="content">
<img src="images/mbc2_0807.png" alt="Synchronisation SPV">
</div>
<div class="title">Figure 7. Noeud SPV synchronisant les en-t√™tes de bloc</div>
</div>
<div class="paragraph data-line-201">
<p>Peu de temps apr√®s l&#8217;introduction des n≈ìuds SPV/l√©gers, les d√©veloppeurs de bitcoins ont ajout√© une fonctionnalit√© appel√©e <em>filtres de floraison</em> (Bloom Filters) pour faire face aux risques de confidentialit√© des n≈ìuds SPV. Les filtres de floraison permettent aux n≈ìuds SPV de recevoir un sous-ensemble des transactions sans r√©v√©ler pr√©cis√©ment les adresses qui les int√©ressent, gr√¢ce √† un m√©canisme de filtrage qui utilise des probabilit√©s plut√¥t que des mod√®les fixes.</p>
</div>
</div>
<div class="sect2 data-line-204">
<h3 id="bloom_filters">Filtres de floraison</h3>
<div class="paragraph data-line-206">
<p>Un filtre de floraison est un filtre de recherche probabiliste qui offre un moyen efficace d&#8217;exprimer un mod√®le de recherche tout en prot√©geant la confidentialit√©. Ils sont utilis√©s par les n≈ìuds SPV pour demander √† leurs pairs des transactions correspondant √† un mod√®le sp√©cifique, sans r√©v√©ler exactement quelles adresses, cl√©s ou transactions ils recherchent.</p>
</div>
<div class="paragraph data-line-208">
<p>Dans notre analogie pr√©c√©dente, un touriste sans carte demande son chemin vers une adresse sp√©cifique, &quot;23 Church St.&quot; Si elle demande √† des inconnus son chemin vers cette rue, elle r√©v√®le par inadvertance sa destination. Un filtre de floraison revient √† demander¬†: &quot;Y a-t-il des rues dans ce quartier dont le nom se termine par RCH¬†?&quot; Une question comme celle-l√† en dit un peu moins sur la destination souhait√©e que de demander &quot;23 Church St.&quot; En utilisant cette technique, un touriste pourrait sp√©cifier l&#8217;adresse souhait√©e plus en d√©tail comme &quot;se terminant par URCH&quot; ou moins en d√©tail comme &quot;se terminant par H&quot;. En faisant varier la pr√©cision de la recherche, le touriste r√©v√®le plus ou moins d&#8217;informations, au d√©triment d&#8217;obtenir des r√©sultats plus ou moins pr√©cis. Si elle demande un mod√®le moins sp√©cifique, elle obtient beaucoup plus d&#8217;adresses possibles et une meilleure confidentialit√©, mais de nombreux r√©sultats ne sont pas pertinents. Si elle demande un mod√®le tr√®s sp√©cifique, elle obtient moins de r√©sultats mais perd sa confidentialit√©.</p>
</div>
<div class="paragraph data-line-210">
<p>Les filtres de floraison remplissent cette fonction en permettant √† un n≈ìud SPV de sp√©cifier un mod√®le de recherche pour les transactions qui peuvent √™tre r√©gl√©s vers la pr√©cision ou la confidentialit√©. Un filtre de floraison plus sp√©cifique produira des r√©sultats pr√©cis, mais au d√©triment de la r√©v√©lation des mod√®les qui int√©ressent le n≈ìud SPV, r√©v√©lant ainsi les adresses d√©tenues par le portefeuille de l&#8217;utilisateur. Un filtre bloom moins sp√©cifique produira plus de donn√©es sur plus de transactions, dont beaucoup ne sont pas pertinentes pour le n≈ìud, mais permettra au n≈ìud de maintenir une meilleure confidentialit√©.</p>
</div>
<div class="sect3 data-line-212">
<h4 id="_comment_fonctionnent_les_filtres_de_floraison">Comment fonctionnent les filtres de floraison</h4>
<div class="paragraph data-line-214">
<p>Les filtres de floraison sont impl√©ment√©s sous la forme d&#8217;un tableau de taille variable de N chiffres binaires (un champ de bits) et d&#8217;un nombre variable de M fonctions de hachage. Les fonctions de hachage sont con√ßues pour produire toujours une sortie comprise entre 1 et N, correspondant au tableau de chiffres binaires. Les fonctions de hachage sont g√©n√©r√©es de mani√®re d√©terministe, de sorte que tout n≈ìud impl√©mentant un filtre de floraison utilisera toujours les m√™mes fonctions de hachage et obtiendra les m√™mes r√©sultats pour une entr√©e sp√©cifique. En choisissant des filtres de floraison de diff√©rentes longueurs (N) et un nombre diff√©rent (M) de fonctions de hachage, le filtres de floraison peut √™tre r√©gl√©, en faisant varier le niveau de pr√©cision et donc de confidentialit√©.</p>
</div>
<div class="paragraph data-line-216">
<p>Dans <a href="#bloom1">Un exemple de filtre de floraison simpliste, avec un champ 16 bits et trois fonctions de hachage</a>, nous utilisons un tr√®s petit tableau de 16 bits et un ensemble de trois fonctions de hachage pour d√©montrer le fonctionnement des filtres de floraison.</p>
</div>
<div id="bloom1" class="imageblock data-line-220">
<div class="content">
<img src="images/mbc2_0808.png" alt="Floraison 1">
</div>
<div class="title">Figure 8. Un exemple de filtre de floraison simpliste, avec un champ 16 bits et trois fonctions de hachage</div>
</div>
<div class="paragraph data-line-222">
<p>Le filtre de floraison est initialis√© de sorte que le tableau de bits ne soit que des z√©ros. Pour ajouter un motif au filtre de floraison, le motif est hach√© tour √† tour par chaque fonction de hachage. L&#8217;application de la premi√®re fonction de hachage √† l&#8217;entr√©e donne un nombre compris entre 1 et N. Le bit correspondant dans le tableau (index√© de 1 √† N) est trouv√© et d√©fini sur 1, enregistrant ainsi la sortie de la fonction de hachage. Ensuite, la fonction de hachage suivante est utilis√©e pour d√©finir un autre bit et ainsi de suite. Une fois que toutes les fonctions de hachage M ont √©t√© appliqu√©es, le mod√®le de recherche sera &quot;enregistr√©&quot; dans le filtre de floraison sous forme de M bits qui ont √©t√© modifi√©s de 0 √† 1.</p>
</div>
<div class="paragraph data-line-224">
<p><a href="#bloom2">Ajout d&#8217;un motif &quot;A&quot; √† notre filtre de floraison simple</a> est un exemple d&#8217;ajout d&#8217;un motif &quot;A&quot; au filtre de floraison simple illustr√© dans <a href="#bloom1">Un exemple de filtre de floraison simpliste, avec un champ 16 bits et trois fonctions de hachage</a>.</p>
</div>
<div class="paragraph data-line-226">
<p>L&#8217;ajout d&#8217;un deuxi√®me motif est aussi simple que de r√©p√©ter ce processus. Le motif est hach√© par chaque fonction de hachage tour √† tour et le r√©sultat est enregistr√© en r√©glant les bits sur 1. Notez qu&#8217;√† mesure qu&#8217;un filtre bloom est rempli de plusieurs mod√®les, le r√©sultat d&#8217;une fonction de hachage peut co√Øncider avec un bit d√©j√† d√©fini sur 1, auquel cas le bit n&#8217;est pas modifi√©. Essentiellement, √† mesure que davantage de motifs sont enregistr√©s sur des bits qui se chevauchent, le filtre de bloom commence √† √™tre satur√© avec davantage de bits r√©gl√©s sur 1 et la pr√©cision du filtre diminue. C&#8217;est pourquoi le filtre est une structure de donn√©es probabiliste - il devient moins pr√©cis √† mesure que d&#8217;autres mod√®les sont ajout√©s. La pr√©cision d√©pend du nombre de motifs ajout√©s par rapport √† la taille du tableau de bits (N) et du nombre de fonctions de hachage (M). Un tableau de bits plus grand et plus de fonctions de hachage peuvent enregistrer plus de mod√®les avec une plus grande pr√©cision. Un tableau de bits plus petit ou moins de fonctions de hachage enregistrera moins de mod√®les et produira moins de pr√©cision.</p>
</div>
<div id="bloom2" class="imageblock data-line-230">
<div class="content">
<img src="images/mbc2_0809.png" alt="Floraison 2">
</div>
<div class="title">Figure 9. Ajout d&#8217;un motif &quot;A&quot; √† notre filtre de floraison simple</div>
</div>
<div class="paragraph data-line-232">
<p><a href="#bloom3">Ajout d&#8217;un deuxi√®me motif &quot;B&quot; √† notre filtre de floraison simple</a> est un exemple d&#8217;ajout d&#8217;un deuxi√®me motif &quot;B&quot; au filtre de floraison simple.</p>
</div>
<div id="bloom3" class="imageblock smallereighty data-line-237">
<div class="content">
<img src="images/mbc2_0810.png" alt="Floraison 3">
</div>
<div class="title">Figure 10. Ajout d&#8217;un deuxi√®me motif &quot;B&quot; √† notre filtre de floraison simple</div>
</div>
<div class="paragraph data-line-239">
<p>Pour tester si un motif fait partie d&#8217;un filtre de floraison, le motif est hach√© par chaque fonction de hachage et le motif de bits r√©sultant est test√© par rapport au tableau de bits. Si tous les bits index√©s par les fonctions de hachage sont mis √† 1, alors le motif est <em>probablement</em> enregistr√© dans le filtre de floraison. √âtant donn√© que les bits peuvent √™tre d√©finis en raison du chevauchement de plusieurs mod√®les, la r√©ponse n&#8217;est pas certaine, mais plut√¥t probabiliste. En termes simples, une correspondance positive du filtre de floraison est un &quot;Peut-√™tre, Oui&quot;.</p>
</div>
<div class="paragraph data-line-241">
<p><a href="#bloom4">Tester l&#8217;existence du motif &quot;X&quot; dans le filtre de floraison. Le r√©sultat est une correspondance positive probabiliste, ce qui signifie &quot;Peut-√™tre&quot;.</a> est un exemple de test de l&#8217;existence du motif &quot;X&quot; dans le filtre de floraison simple. Les bits correspondants sont d√©finis sur 1, donc le motif est probablement une correspondance.</p>
</div>
<div id="bloom4" class="imageblock smallereighty data-line-246">
<div class="content">
<img src="images/mbc2_0811.png" alt="Floraison 4">
</div>
<div class="title">Figure 11. Tester l&#8217;existence du motif &quot;X&quot; dans le filtre de floraison. Le r√©sultat est une correspondance positive probabiliste, ce qui signifie &quot;Peut-√™tre&quot;.</div>
</div>
<div class="paragraph data-line-248">
<p>Au contraire, si un motif est test√© par rapport au filtre bloom et que l&#8217;un des bits est mis √† 0, cela prouve que le motif n&#8217;a pas √©t√© enregistr√© dans le filtre de floraison. Un r√©sultat n√©gatif n&#8217;est pas une probabilit√©, c&#8217;est une certitude. En termes simples, une correspondance n√©gative sur un filtre de floraison bloom est un &quot;D√©finitivement pas!&quot;</p>
</div>
<div class="paragraph data-line-250">
<p><a href="#bloom5">Tester l&#8217;existence du motif &quot;Y&quot; dans le filtre de floraison. Le r√©sultat est une correspondance n√©gative d√©finitive, ce qui signifie &quot;D√©finitivement pas¬†!&quot;</a> est un exemple de test de l&#8217;existence du motif &quot;Y&quot; dans le filtre de floraison simple. L&#8217;un des bits correspondants est d√©fini sur 0, donc le motif n&#8217;est certainement pas une correspondance.</p>
</div>
<div id="bloom5" class="imageblock data-line-254">
<div class="content">
<img src="images/mbc2_0812.png" alt="mbc2 0812">
</div>
<div class="title">Figure 12. Tester l&#8217;existence du motif &quot;Y&quot; dans le filtre de floraison. Le r√©sultat est une correspondance n√©gative d√©finitive, ce qui signifie &quot;D√©finitivement pas¬†!&quot;</div>
</div>
</div>
</div>
<div class="sect2 data-line-256">
<h3 id="_comment_les_n≈ìuds_spv_utilisent_les_filtres_de_floraison">Comment les n≈ìuds SPV utilisent les filtres de floraison</h3>
<div class="paragraph data-line-258">
<p>Les filtres de floraison sont utilis√©s pour filtrer les transactions (et les blocs les contenant) qu&#8217;un n≈ìud SPV re√ßoit de ses pairs, en s√©lectionnant uniquement les transactions qui int√©ressent le n≈ìud SPV sans r√©v√©ler les adresses ou les cl√©s qui l&#8217;int√©ressent.</p>
</div>
<div class="paragraph data-line-260">
<p>Un n≈ìud SPV initialisera un filtre de floraison comme &quot;vide&quot;¬†; dans cet √©tat, le filtre de floraison ne correspondra √† aucun motif. Le n≈ìud SPV √©tablira ensuite une liste de toutes les adresses, cl√©s et hachages qui l&#8217;int√©ressent. Il le fera en extrayant le hachage de cl√© publique et le hachage de script et les ID de transaction de tout UTXO contr√¥l√© par son portefeuille. Le n≈ìud SPV ajoute ensuite chacun d&#8217;entre eux au filtre de floraison, de sorte que le filtre de floraison &quot;correspondra&quot; si ces mod√®les sont pr√©sents dans une transaction, sans r√©v√©ler les mod√®les eux-m√™mes.</p>
</div>
<div class="paragraph data-line-262">
<p>Le n≈ìud SPV enverra alors un message filterload au pair, contenant le filtres de floraison √† utiliser sur la connexion. Sur le pair, les filtres de floraison sont v√©rifi√©s par rapport √† chaque transaction entrante. Le n≈ìud complet v√©rifie plusieurs parties de la transaction par rapport au filtre de floraison, √† la recherche d&#8217;une correspondance, notamment¬†:</p>
</div>
<div class="ulist data-line-264">
<ul>
<li class="data-line-264">
<p>L&#8217;identifiant de la transaction</p>
</li>
<li class="data-line-265">
<p>Les composants de donn√©es des scripts de verrouillage de chacune des sorties de transaction (chaque cl√© et hachage du script)</p>
</li>
<li class="data-line-266">
<p>Chacune des entr√©es de transaction</p>
</li>
<li class="data-line-267">
<p>Chacun des composants de donn√©es de signature d&#8217;entr√©e (ou scripts t√©moins)</p>
</li>
</ul>
</div>
<div class="paragraph data-line-269">
<p>En comparant tous ces composants, les filtres Bloom peuvent √™tre utilis√©s pour faire correspondre les hachages de cl√©s publiques, les scripts, les valeurs OP_RETURN, les cl√©s publiques dans les signatures ou tout futur composant d&#8217;un contrat intelligent ou d&#8217;un script complexe.</p>
</div>
<div class="paragraph data-line-271">
<p>Une fois qu&#8217;un filtre est √©tabli, le pair teste ensuite la sortie de chaque transaction par rapport au filtre Bloom. Seules les transactions qui correspondent au filtre sont envoy√©es au n≈ìud.</p>
</div>
<div class="paragraph data-line-273">
<p>En r√©ponse √† un message getdata du n≈ìud, les pairs enverront un message merkleblock qui ne contient que des en-t√™tes de bloc pour les blocs correspondant au filtre et un chemin Merkle (voir <a href="#merkle_trees">[merkle_trees]</a>) pour chaque transaction correspondante. Le pair enverra alors √©galement des messages tx contenant les transactions mises en correspondance par le filtre.</p>
</div>
<div class="paragraph data-line-275">
<p>Lorsque le n≈ìud complet envoie des transactions au n≈ìud SPV, le n≈ìud SPV rejette tous les faux positifs et utilise les transactions correctement appari√©es pour mettre √† jour son ensemble UTXO et le solde de son portefeuille. Au fur et √† mesure qu&#8217;il met √† jour sa propre vue de l&#8217;ensemble UTXO, il modifie √©galement le filtre de floraison pour correspondre √† toutes les transactions futures faisant r√©f√©rence √† l&#8217;UTXO qu&#8217;il vient de trouver. Le n≈ìud complet utilise ensuite le nouveau filtre de floraison pour faire correspondre les nouvelles transactions et l&#8217;ensemble du processus se r√©p√®te.</p>
</div>
<div class="paragraph data-line-277">
<p>Le n≈ìud d√©finissant le filtre de floraison peut ajouter de mani√®re interactive des motifs au filtre en envoyant un message filteradd. Pour effacer le filtre de floraison, le n≈ìud peut envoyer un message filterclear. Puisqu&#8217;il n&#8217;est pas possible de supprimer un mod√®le d&#8217;un filtre de floraison, un n≈ìud doit effacer et renvoyer un nouveau filtre de floraison si un mod√®le n&#8217;est plus souhait√©.</p>
</div>
<div class="paragraph data-line-279">
<p>Le protocole r√©seau et le m√©canisme de filtre de floraison pour les n≈ìuds SPV sont d√©finis dans <a href="https://bit.ly/1x6qCiO" data-href="https://bit.ly/1x6qCiO">BIP-37 (Peer Services)</a>.</p>
</div>
</div>
<div class="sect2 data-line-282">
<h3 id="_n≈ìuds_spv_et_confidentialit√©">N≈ìuds SPV et confidentialit√©</h3>
<div class="paragraph data-line-284">
<p>Les n≈ìuds qui impl√©mentent SPV ont une confidentialit√© plus faible qu&#8217;un n≈ìud complet. Un n≈ìud complet re√ßoit toutes les transactions et ne r√©v√®le donc aucune information indiquant s&#8217;il utilise une adresse dans son portefeuille. Un n≈ìud SPV re√ßoit une liste filtr√©e des transactions li√©es aux adresses qui se trouvent dans son portefeuille. En cons√©quence, cela r√©duit la vie priv√©e du propri√©taire.</p>
</div>
<div class="paragraph data-line-286">
<p>Les filtres de floraison sont un moyen de r√©duire la perte de confidentialit√©. Sans eux, un n≈ìud SPV devrait r√©pertorier explicitement les adresses qui l&#8217;int√©ressent, cr√©ant ainsi une grave violation de la vie priv√©e. Cependant, m√™me avec des filtres de floraison, un adversaire surveillant le trafic d&#8217;un client SPV ou s&#8217;y connectant directement en tant que n≈ìud du r√©seau P2P peut collecter suffisamment d&#8217;informations au fil du temps pour apprendre les adresses dans le portefeuille du client SPV.</p>
</div>
</div>
<div class="sect2 data-line-288">
<h3 id="_connexions_crypt√©es_et_authentifi√©es">Connexions crypt√©es et authentifi√©es</h3>
<div class="paragraph data-line-290">
<p>La plupart des nouveaux utilisateurs de bitcoin supposent que les communications r√©seau d&#8217;un n≈ìud Bitcoin sont crypt√©es. En fait, la mise en ≈ìuvre originale du bitcoin communique enti√®rement en clair. Bien que ce ne soit pas un probl√®me majeur de confidentialit√© pour les n≈ìuds complets, c&#8217;est un gros probl√®me pour les n≈ìuds SPV.</p>
</div>
<div class="paragraph data-line-292">
<p>Afin d&#8217;augmenter la confidentialit√© et la s√©curit√© du r√©seau bitcoin P2P, il existe deux solutions qui fournissent le cryptage des communications¬†: <em>Tor Transport</em> et <em>P2P Authentication and Encryption</em> avec BIP-150/151.</p>
</div>
<div class="sect3 data-line-294">
<h4 id="_transport_tor">Transport Tor</h4>
<div class="paragraph data-line-296">
<p>Tor, qui signifie <em>The Onion Routing network</em>, est un projet logiciel et un r√©seau qui offre le cryptage et l&#8217;encapsulation des donn√©es via des chemins de r√©seau qui offrent l&#8217;anonymat, l&#8217;intra√ßabilit√© et la confidentialit√©.</p>
</div>
<div class="paragraph data-line-298">
<p>Bitcoin Core offre plusieurs options de configuration qui vous permettent d&#8217;ex√©cuter un n≈ìud Bitcoin avec son trafic transport√© sur le r√©seau Tor. De plus, Bitcoin Core peut √©galement offrir un service cach√© Tor permettant √† d&#8217;autres n≈ìuds Tor de se connecter √† votre n≈ìud directement via Tor.</p>
</div>
<div class="paragraph data-line-300">
<p>√Ä partir de la version 0.12 de Bitcoin Core, un n≈ìud proposera automatiquement un service Tor cach√© s&#8217;il est capable de se connecter √† un service Tor local. Si vous avez install√© Tor et que le processus Bitcoin Core s&#8217;ex√©cute en tant qu&#8217;utilisateur disposant des autorisations ad√©quates pour acc√©der au cookie d&#8217;authentification Tor, il devrait fonctionner automatiquement. Utilisez le drapeau debug pour activer le d√©bogage de Bitcoin Core pour le service Tor comme ceci¬†:</p>
</div>
<div class="listingblock data-line-302">
<div class="content">
<pre>$ bitcoind --daemon --debug=tor</pre>
</div>
</div>
<div class="paragraph data-line-306">
<p>Vous devriez voir &quot;tor: ADD_ONION successful&quot; dans les journaux, indiquant que Bitcoin Core a ajout√© un service cach√© au r√©seau Tor.</p>
</div>
<div class="paragraph data-line-308">
<p>Vous pouvez trouver plus d&#8217;instructions sur l&#8217;ex√©cution de Bitcoin Core en tant que service cach√© de Tor dans la documentation de Bitcoin Core (<em>docs/tor.md</em>) et divers didacticiels en ligne.</p>
</div>
</div>
<div class="sect3 data-line-310">
<h4 id="_authentification_et_cryptage_pair_√†_pair">Authentification et cryptage pair √† pair</h4>
<div class="paragraph data-line-312">
<p>Deux propositions d&#8217;am√©lioration Bitcoin, BIP-150 et BIP-151, ajoutent la prise en charge de l&#8217;authentification et du cryptage P2P dans le r√©seau bitcoin P2P. Ces deux BIP d√©finissent des services optionnels pouvant √™tre propos√©s par des n≈ìuds Bitcoin compatibles. BIP-151 active le chiffrement n√©goci√© pour toutes les communications entre deux n≈ìuds qui prennent en charge BIP-151. BIP-150 offre une authentification par les pairs en option qui permet aux n≈ìuds de s&#8217;authentifier mutuellement √† l&#8217;aide d&#8217;ECDSA et des cl√©s priv√©es. BIP-150 exige qu&#8217;avant l&#8217;authentification, les deux n≈ìuds aient √©tabli des communications crypt√©es conform√©ment √† BIP-151.</p>
</div>
<div class="paragraph data-line-314">
<p>Depuis f√©vrier 2021, BIP-150 et BIP-151 ne sont pas impl√©ment√©s dans Bitcoin Core. Cependant, les deux propositions ont √©t√© mises en ≈ìuvre par au moins un client Bitcoin alternatif nomm√© bcoin.</p>
</div>
<div class="paragraph data-line-316">
<p>BIP-150 et BIP-151 permettent aux utilisateurs d&#8217;ex√©cuter des clients SPV qui se connectent √† un n≈ìud complet de confiance, en utilisant le chiffrement et l&#8217;authentification pour prot√©ger la confidentialit√© du client SPV.</p>
</div>
<div class="paragraph data-line-318">
<p>De plus, l&#8217;authentification peut √™tre utilis√©e pour cr√©er des r√©seaux de n≈ìuds Bitcoin de confiance et emp√™cher les attaques Man-in-the-Middle (entre-deux). Enfin, le cryptage P2P, s&#8217;il est d√©ploy√© √† grande √©chelle, renforcerait la r√©sistance du bitcoin √† l&#8217;analyse du trafic et √† la surveillance portant atteinte √† la vie priv√©e, en particulier dans les pays totalitaires o√π l&#8217;utilisation d&#8217;Internet est fortement contr√¥l√©e et surveill√©e.</p>
</div>
<div class="paragraph data-line-320">
<p>La norme est d√©finie dans https:/ /github.com/bitcoin/bips/blob/master/bip-0150.mediawiki[BIP-150 (authentification par les pairs)] et <a href="https://github.com/bitcoin/bips/blob/master/bip-0151.mediawiki" data-href="https://github.com/bitcoin/bips/blob/master/bip-0151.mediawiki"> BIP-151 (chiffrement des communications poste √† poste)</a>.</p>
</div>
</div>
</div>
<div class="sect2 data-line-322">
<h3 id="_groupes_de_transactions">Groupes de transactions</h3>
<div class="paragraph data-line-324">
<p>Presque tous les n≈ìuds du r√©seau Bitcoin maintiennent une liste temporaire de transactions non confirm√©es appel√©es <em>bassin de m√©moire</em>, <em>mempool</em> ou <em>bassin de transaction</em>. Les n≈ìuds utilisent ce bassin pour suivre les transactions connues du r√©seau mais qui ne sont pas encore incluses dans la cha√Æne de blocs. Par exemple, un n≈ìud de portefeuille utilisera le bassin de transactions pour suivre les paiements entrants dans le portefeuille de l&#8217;utilisateur qui ont √©t√© re√ßus sur le r√©seau mais qui n&#8217;ont pas encore √©t√© confirm√©s.</p>
</div>
<div class="paragraph data-line-326">
<p>Au fur et √† mesure que les transactions sont re√ßues et v√©rifi√©es, elles sont ajout√©es au bassin de transactions et relay√©es aux n≈ìuds voisins pour se propager sur le r√©seau.</p>
</div>
<div class="paragraph data-line-328">
<p>Certaines impl√©mentations de n≈ìuds maintiennent √©galement un bassin s√©par√© de transactions orphelines. Si les entr√©es d&#8217;une transaction font r√©f√©rence √† une transaction qui n&#8217;est pas encore connue, comme un parent manquant, la transaction orpheline sera stock√©e temporairement dans le bassin orphelin jusqu&#8217;√† ce que la transaction parent arrive.</p>
</div>
<div class="paragraph data-line-330">
<p>Lorsqu&#8217;une transaction est ajout√©e au bassin de transactions, le bassin orphelin est v√©rifi√© pour tous les orphelins qui r√©f√©rencent les sorties de cette transaction (ses enfants). Tous les orphelins correspondants sont ensuite valid√©s. S&#8217;ils sont valides, ils sont supprim√©s du bassin orphelin et ajout√©s au bassin de transactions, compl√©tant ainsi la cha√Æne qui a commenc√© avec la transaction parent. √Ä la lumi√®re de la transaction nouvellement ajout√©e, qui n&#8217;est plus orpheline, le processus est r√©p√©t√© de mani√®re r√©cursive √† la recherche de tout autre descendant, jusqu&#8217;√† ce qu&#8217;aucun autre descendant ne soit trouv√©. Gr√¢ce √† ce processus, l&#8217;arriv√©e d&#8217;une transaction parente d√©clenche une reconstruction en cascade de toute une cha√Æne de transactions interd√©pendantes en r√©unissant les orphelins avec leurs parents tout au long de la cha√Æne.</p>
</div>
<div class="paragraph data-line-332">
<p>Le bassin de transactions et le bassin orphelin (le cas √©ch√©ant) sont stock√©s dans la m√©moire locale et ne sont pas enregistr√©s sur le stockage persistant¬†; ils sont plut√¥t renseign√©s dynamiquement √† partir des messages r√©seau entrants. Lorsqu&#8217;un n≈ìud d√©marre, les deux bassins sont vides et se remplissent progressivement avec les nouvelles transactions re√ßues sur le r√©seau.</p>
</div>
<div class="paragraph data-line-334">
<p>Certaines impl√©mentations du client Bitcoin maintiennent √©galement une base de donn√©es ou un bassin UTXO, qui est l&#8217;ensemble de toutes les sorties non d√©pens√©es sur la cha√Æne de blocs. Les utilisateurs de Bitcoin Core le trouveront dans le dossier chainstate/ du r√©pertoire de donn√©es de leur client. Bien que le nom &quot;bassin UTXO&quot; ressemble au bassin de transactions, il repr√©sente un ensemble de donn√©es diff√©rent. Contrairement aux bassins de transactions et orphelins, le bassin UTXO n&#8217;est pas initialis√© vide mais contient √† la place des millions d&#8217;entr√©es de sorties de transactions non d√©pens√©es, tout ce qui n&#8217;est pas d√©pens√© depuis le bloc de gen√®se. Le bassin UTXO peut √™tre h√©berg√© dans la m√©moire locale ou sous la forme d&#8217;une table de base de donn√©es index√©e sur un stockage persistant.</p>
</div>
<div class="paragraph data-line-336">
<p>Alors que les bassins de transactions et orphelins repr√©sentent la perspective locale d&#8217;un seul n≈ìud et peuvent varier consid√©rablement d&#8217;un n≈ìud √† l&#8217;autre en fonction du moment o√π le n≈ìud a √©t√© d√©marr√© ou red√©marr√©, le bassin UTXO repr√©sente le consensus √©mergent du r√©seau et variera donc peu entre les n≈ìuds. De plus, les bassins de transactions et orphelins ne contiennent que des transactions non confirm√©es, tandis que le pool UTXO ne contient que des sorties confirm√©es.</p>
</div>
</div>
</div>
</div>
</div>
<div id="footer">
<div id="footer-text">
Last updated 2022-03-21 10:53:38 -0400
</div>
</div>
</body>
</html>